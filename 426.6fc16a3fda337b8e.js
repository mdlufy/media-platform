"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[426],{7426:(_,p,a)=>{a.r(p),a.d(p,{AuthModule:()=>M});var m=a(6895),i=a(433),g=a(9299),t=a(4650),d=a(9698),f=a(529);let c=(()=>{class n{constructor(e){this.http=e}signup$(e){return this.http.post(`${d.J}/auth/signup`,e)}signin$(e){return this.http.post(`${d.J}/auth/signin`,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(f.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var h=a(8095);const C=[{path:"",component:(()=>{class n{constructor(e,o,l){this.authService=e,this.profileStore=o,this.router=l,this.email="",this.password="",this.submitted=!1}login(){this.authService.signin$({email:this.email,password:this.password}).subscribe(o=>{if(console.log(o),o.token){const l=JSON.parse(atob(o.token.split(".")[1]));console.log(l),localStorage.setItem("token",o.token),this.router.navigate(["pages"])}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c),t.Y36(h.$),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:3,consts:[[1,"auth-block"],["action","#",3,"ngSubmit"],["loginForm","ngForm"],["for","email"],["type","text","id","email","name","email","placeholder","Email..","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","placeholder","Password..","required","",3,"ngModel","ngModelChange"],[1,"buttons"],["type","submit",3,"disabled"],["type","button",3,"click"],["type","button","routerLink","./registration"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Login"),t.qZA(),t.TgZ(3,"form",1,2),t.NdJ("ngSubmit",function(){return o.login()}),t.TgZ(5,"label",3),t._uU(6,"Email"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(r){return o.email=r}),t.qZA(),t.TgZ(8,"label",5),t._uU(9,"Password"),t.qZA(),t.TgZ(10,"input",6),t.NdJ("ngModelChange",function(r){return o.password=r}),t.qZA(),t.TgZ(11,"span",7)(12,"button",8),t._uU(13," Login "),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){t.CHM(l);const r=t.MAs(4);return t.KtG(r.reset())}),t._uU(15,"Clear"),t.qZA()()(),t.TgZ(16,"div")(17,"button",10),t._uU(18,"Registration"),t.qZA()()()}if(2&e){const l=t.MAs(4);t.xp6(7),t.Q6J("ngModel",o.email),t.xp6(3),t.Q6J("ngModel",o.password),t.xp6(2),t.Q6J("disabled",!l.form.valid)}},dependencies:[g.rH,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.F],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px;margin-bottom:15px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:last-child){border-radius:4px;margin-bottom:10px}form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{border-left:5px solid #a94442}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{cursor:pointer}.auth-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}"]}),n})()},{path:"registration",component:(()=>{class n{constructor(e,o){this.authService=e,this.router=o,this.user={fullname:"",email:"",password:""},this.submitted=!1}onSubmit(){this.submitted=!0,this.authService.signup$({fullname:this.user.fullname,email:this.user.email,password:this.user.password}).subscribe(o=>{console.log(o),this.router.navigate(["auth"])})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-registration"]],decls:19,vars:4,consts:[[1,"registration-block"],["action","#",3,"ngSubmit"],["registrationForm","ngForm"],["for","username"],["type","text","id","username","name","username","placeholder","Login..","required","",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","email","name","email","placeholder","Email..","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","placeholder","Password..","required","",3,"ngModel","ngModelChange"],[1,"buttons"],["type","submit",3,"disabled"],["type","button",3,"click"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Registration"),t.qZA(),t.TgZ(3,"form",1,2),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(5,"label",3),t._uU(6,"Username"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(r){return o.user.fullname=r}),t.qZA(),t.TgZ(8,"label",5),t._uU(9,"Email"),t.qZA(),t.TgZ(10,"input",6),t.NdJ("ngModelChange",function(r){return o.user.email=r}),t.qZA(),t.TgZ(11,"label",7),t._uU(12,"Password"),t.qZA(),t.TgZ(13,"input",8),t.NdJ("ngModelChange",function(r){return o.user.password=r}),t.qZA(),t.TgZ(14,"span",9)(15,"button",10),t._uU(16," Registration "),t.qZA(),t.TgZ(17,"button",11),t.NdJ("click",function(){t.CHM(l);const r=t.MAs(4);return t.KtG(r.reset())}),t._uU(18," Clear "),t.qZA()()()()}if(2&e){const l=t.MAs(4);t.xp6(7),t.Q6J("ngModel",o.user.fullname),t.xp6(3),t.Q6J("ngModel",o.user.email),t.xp6(3),t.Q6J("ngModel",o.user.password),t.xp6(2),t.Q6J("disabled",!l.form.valid)}},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.F],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:last-child){border-radius:4px;margin-bottom:10px}form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{border-left:5px solid #a94442}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{cursor:pointer}.registration-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}"]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(C),g.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,b,i.u5]}),n})()}}]);