"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[655],{6195:(Zn,ve,s)=>{s.r(ve),s.d(ve,{CoursesModule:()=>zn});var l=s(6895),y=s(9367),R=s(9791),yt=s(2302),h=s(433),z=s(1573),E=s(1115),H=s(9343),M=s(6045),he=s(3186),e=s(4650);let xt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,h.u5,y.fN,M.Qf,E.cn,he.c2,z.Q7,H.U]}),i})();var C=s(493),u=s(9653),K=s(8714),d=s(655),p=s(8923);let bt=(()=>{class i{constructor(t){this.elementRef=t,this.playbackRate=1,this.volume=1,this.currentTimeChange=new e.vpe,this.pausedChange=new e.vpe,this.volumeChange=new e.vpe}set playbackRateSetter(t){this.updatePlaybackRate(t)}set currentTime(t){Math.abs(t-this.currentTime)>.05&&(this.elementRef.nativeElement.currentTime=t)}get currentTime(){return this.elementRef.nativeElement.currentTime}set paused(t){t?this.elementRef.nativeElement.pause():(this.elementRef.nativeElement.play(),this.updatePlaybackRate(this.playbackRate))}get paused(){return this.elementRef.nativeElement.paused}onPausedChange(t){this.pausedChange.emit(t),this.updatePlaybackRate(this.playbackRate)}onVolumeChange(){this.volume=this.elementRef.nativeElement.volume,this.volumeChange.emit(this.volume)}onCurrentTimeChange(){this.currentTimeChange.emit(this.currentTime)}changeDetectionTrigger(){}updatePlaybackRate(t){this.playbackRate=t,this.elementRef.nativeElement.playbackRate=this.playbackRate}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq))},i.\u0275dir=e.lG2({type:i,selectors:[["video","tuiMedia",""],["audio","tuiMedia",""]],hostVars:1,hostBindings:function(t,n){1&t&&e.NdJ("ended",function(){return n.onPausedChange(!0)})("pause",function(){return n.onPausedChange(!0)})("play",function(){return n.onPausedChange(!1)})("volumechange",function(){return n.onVolumeChange()})("timeupdate",function(){return n.onCurrentTimeChange()})("seeking",function(){return n.onCurrentTimeChange()})("seeked",function(){return n.onCurrentTimeChange()})("durationchange",function(){return n.changeDetectionTrigger()}),2&t&&e.Ikx("volume",n.volume)},inputs:{volume:"volume",playbackRateSetter:["playbackRate","playbackRateSetter"],currentTime:"currentTime",paused:"paused"},outputs:{currentTimeChange:"currentTimeChange",pausedChange:"pausedChange",volumeChange:"volumeChange"},exportAs:["tuiMedia"]}),(0,d.gn)([(0,p.TH)(o=>Number.isFinite(o)&&o>=0&&o<=1)],i.prototype,"volume",void 0),(0,d.gn)([(0,p.NH)(Ce)],i.prototype,"playbackRateSetter",null),(0,d.gn)([(0,p.NH)(Ce)],i.prototype,"currentTime",null),i})();function Ce(i){return Number.isFinite(i)&&i>=0}let St=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var P=s(4227),g=s(4004);function Te(i){return{id:i._id,title:i.title,coverImage:i.coverImage,video:i.video}}var b=s(9698),ye=s(529);let Dt=(()=>{class i{constructor(t){this.http=t}fetchVideos$(){return this.http.get(`${b.J}/videos`)}fetchVideosByCourseId$(t){return this.http.get(`${b.J}/videos/${t}`)}deleteVideos$(){return this.http.delete(`${b.J}/videos`)}deleteVideosByCourseId$(t){return this.http.delete(`${b.J}/videos/${t}`)}fetchVideoById$(t){return this.http.get(`${b.J}/video`,{params:{videoId:t}})}uploadVideo$(t){return this.http.post(`${b.J}/video`,t)}deleteVideoById$(t){return this.http.delete(`${b.J}/video/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ye.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xe=(()=>{class i{constructor(t){this.videosService=t}getVideosByCourseId$(t){return this.videosService.fetchVideosByCourseId$(t).pipe((0,g.U)(n=>n.map(r=>Te(r))))}createVideo$(t){return this.videosService.uploadVideo$(t).pipe((0,g.U)(n=>Te(n)))}removeVideosFromCourseByCourseId$(t){return this.videosService.deleteVideosByCourseId$(t)}removeVideoById$(t){return this.videosService.deleteVideoById$(t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Dt))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var T=s(8505),O=s(3900),F=s(262),x=s(9646),m=s(4670);(0,u.PH)("[Videos Page] Get Videos Loading State");const I=(0,u.PH)("[Videos Page] Set Videos Loading State",(0,u.Ky)()),be=(0,u.PH)("[Videos Page] Load Videos By Course Id",(0,u.Ky)()),Se=(0,u.PH)("[Videos Page] Load Videos By Course Id Success",(0,u.Ky)()),De=(0,u.PH)("[Videos Page] Remove Videos From Course By Course Id",(0,u.Ky)()),Oe=(0,u.PH)("[Videos Page] Remove Videos From Course By Course Id Success",(0,u.Ky)()),Ie=(0,u.PH)("[Videos Page] Create Video",(0,u.Ky)()),we=(0,u.PH)("[Videos Page] Create Video Success",(0,u.Ky)()),Fe=(0,u.PH)("[Videos Page] Remove Video By Id",(0,u.Ky)()),Me=(0,u.PH)("[Videos Page] Remove Video By Id Success",(0,u.Ky)());let Ot=(()=>{class i{constructor(t,n,r){this.actions$=t,this.store$=n,this.videosLoadService=r,this.loadVideosByCourseId$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(be),(0,T.b)(()=>this.store$.dispatch(I({loadingState:m.G.LOADING}))),(0,O.w)(({courseId:a})=>this.videosLoadService.getVideosByCourseId$(a).pipe((0,T.b)(()=>this.store$.dispatch(I({loadingState:m.G.SUCCESS}))),(0,g.U)(c=>Se({videos:c})),(0,F.K)(()=>(0,x.of)(I({loadingState:m.G.LOADING_ERROR}))))))),this.createVideo$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(Ie),(0,T.b)(()=>this.store$.dispatch(I({loadingState:m.G.LOADING}))),(0,O.w)(({videoForm:a})=>this.videosLoadService.createVideo$(a).pipe((0,T.b)(()=>this.store$.dispatch(I({loadingState:m.G.SUCCESS}))),(0,g.U)(c=>we({video:c})),(0,F.K)(()=>(0,x.of)(I({loadingState:m.G.LOADING_ERROR}))))))),this.removeVideosFromCourseByCourseId$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(De),(0,T.b)(()=>this.store$.dispatch(I({loadingState:m.G.LOADING}))),(0,O.w)(({courseId:a})=>this.videosLoadService.removeVideosFromCourseByCourseId$(a).pipe((0,T.b)(()=>this.store$.dispatch(I({loadingState:m.G.SUCCESS}))),(0,g.U)(()=>Oe({courseId:a})),(0,F.K)(()=>(0,x.of)(I({loadingState:m.G.LOADING_ERROR}))))))),this.removeVideoById$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(Fe),(0,T.b)(()=>this.store$.dispatch(I({loadingState:m.G.LOADING}))),(0,O.w)(({videoId:a})=>this.videosLoadService.removeVideoById$(a).pipe((0,T.b)(()=>this.store$.dispatch(I({loadingState:m.G.SUCCESS}))),(0,g.U)(()=>Me({videoId:a})),(0,F.K)(()=>(0,x.of)(I({loadingState:m.G.LOADING_ERROR})))))))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(C.eX),e.LFG(u.yh),e.LFG(xe))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const wt=(0,u.Lq)({loadingState:m.G.LOADING,videos:[]},(0,u.on)(I,(i,{loadingState:o})=>({...i,loadingState:o})),(0,u.on)(Se,(i,{videos:o})=>({...i,videos:o})),(0,u.on)(we,(i,{video:o})=>({...i,videos:[...i.videos,o]})),(0,u.on)(Oe,i=>({...i,videos:[]})),(0,u.on)(Me,(i,{videoId:o})=>({...i,videos:i.videos.filter(t=>t.id!==o)}))),Ae=(0,u.ZF)("videos"),Ft=(0,u.P1)(Ae,i=>i.loadingState),Mt=(0,u.P1)(Ae,i=>i.videos);let Pe=(()=>{class i{constructor(t){this.store$=t}get loadingState$(){return this.store$.select(Ft)}get videos$(){return this.store$.select(Mt)}loadVideosByCourseId(t){this.store$.dispatch(be({courseId:t}))}createVideo(t){this.store$.dispatch(Ie({videoForm:t}))}removeVideosFromCourseByCourseId(t){this.store$.dispatch(De({courseId:t}))}removeVideoById(t){this.store$.dispatch(Fe({videoId:t}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var V=s(3861),w=s(5226),L=s(8595),Z=s(5753),X=s(6451),$e=s(9300),Lt=s(9718),q=s(8675),B=s(1884),N=s(2722);let At=(()=>{class i{constructor({nativeElement:t},n){this.tuiDroppableDropped=(0,w.mL)(t,"drop").pipe((0,w.mp)(),(0,g.U)(r=>r.dataTransfer),(0,$e.h)(Z.Pc)),this.tuiDroppableDragOverChange=(0,w.mL)(t,"dragenter").pipe((0,O.w)(({target:r,dataTransfer:a})=>(0,X.T)((0,w.mL)(t,"dragleave").pipe((0,$e.h)(c=>c.target===r)),(0,w.mL)(t,"drop")).pipe((0,Lt.h)(null),(0,q.O)(a))),(0,B.x)((r,a)=>!!r&&!!a||!r&&!a)),(0,w.mL)(t,"dragover").pipe((0,w.mp)(),(0,N.R)(n)).subscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(L.a3,2))},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiDroppableDropped",""],["","tuiDroppableDragOverChange",""]],outputs:{tuiDroppableDropped:"tuiDroppableDropped",tuiDroppableDragOverChange:"tuiDroppableDragOverChange"},features:[e._Bn([L.a3])]}),i})(),Pt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var j=s(9982),Ee=s(1054),ee=s(9255),Ne=s(8535),Q=s(7414),$t=s(5684);let Et=(()=>{class i{constructor({nativeElement:t},n){this.tuiFocusedChange=(0,X.T)((0,w.mL)(t,"focusin"),(0,w.mL)(t,"focusout")).pipe((0,g.U)(()=>(0,ee.V8)(t)),(0,q.O)(!1),(0,B.x)(),(0,$t.T)(1),(0,w.Yr)(n))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b))},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiFocusedChange",""]],outputs:{tuiFocusedChange:"tuiFocusedChange"}}),i})(),ke=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),Re=(()=>{class i{constructor(t){this.tuiFocusVisibleChange=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(L.ku))},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiFocusVisibleChange",""]],outputs:{tuiFocusVisibleChange:"tuiFocusVisibleChange"},features:[e._Bn([L.a3,L.ku])]}),i})(),te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),Nt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var kt=s(710),Ve=s(7846),Be=s(4645),A=s(8276),k=s(7819);let Rt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,n){},styles:[".tui-group{position:relative;z-index:0;display:flex}.tui-group>*{flex:1 1 0;min-width:0}.tui-group>*:nth-child(n){border-radius:0}.tui-group>*:not(:last-child){margin-right:.125rem}.tui-group_collapsed>*{z-index:1}.tui-group_collapsed>*:not(:last-child){margin-right:-1px}.tui-group_collapsed>*._readonly,.tui-group_collapsed>*._disabled,.tui-group_collapsed>*._readonly:hover,.tui-group_collapsed>*._disabled:hover{z-index:0}.tui-group_collapsed>*:hover,.tui-group_collapsed>*._hovered,.tui-group_collapsed>*._pressed{z-index:3}.tui-group_collapsed>*._invalid{z-index:2}.tui-group_collapsed>*._invalid:hover,.tui-group_collapsed>*._invalid._hovered,.tui-group_collapsed>*._invalid._pressed{z-index:4}.tui-group_collapsed>*._hosted_dropdown_focused,.tui-group_collapsed>*._focus-visible,.tui-group_collapsed>*._focused.ng-touched,.tui-group_collapsed>*._focused.ng-untouched{z-index:5}.tui-group_collapsed>*._active,.tui-group_collapsed>*[data-appearance=whiteblock-active]{z-index:6}.tui-group_collapsed>*._focus-visible._focused,.tui-group_collapsed>*._focus-visible._active,.tui-group_collapsed>*._focus-visible[data-appearance=whiteblock-active]{z-index:7}.tui-group_orientation_vertical{display:inline-flex;flex-direction:column}.tui-group_orientation_vertical>*{min-height:auto;flex:0 0 auto}.tui-group_orientation_vertical>*:not(:last-child){margin-right:0;margin-bottom:.125rem}.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin-right:0;margin-bottom:-1px}.tui-group_rounded.tui-group_orientation_horizontal>*:first-child{border-top-left-radius:var(--tui-radius-m);border-bottom-left-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal>*:last-child{border-top-right-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>*:first-child{border-top-left-radius:var(--tui-radius-l);border-bottom-left-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>*:last-child{border-top-right-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical>*:first-child{border-top-left-radius:var(--tui-radius-m);border-top-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical>*:last-child{border-bottom-left-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>*:first-child{border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>*:last-child{border-bottom-left-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}@media screen and (max-width: 47.9625em){.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>*:last-child:not(:first-child){border-radius:var(--tui-radius-m)}}@media screen and (max-width: 47.9625em){.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:last-child:not(:first-child){border-radius:var(--tui-radius-l)}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_orientation_vertical{width:100%}.tui-group_adaptive.tui-group_orientation_vertical>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical>*:not(:last-child){margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin-bottom:-1px}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_orientation_horizontal{flex-direction:column;width:100%}.tui-group_adaptive.tui-group_orientation_horizontal>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal>*:not(:last-child){margin-right:0;margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:not(:last-child){margin-right:0;margin-bottom:-1px}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}.tui-group__auto-width-item{min-width:auto;flex:0 0 auto}.tui-group .tui-group__inherit-item{border-radius:inherit}\n"],encapsulation:2}),i})(),Vt=(()=>{class i{constructor(t){this.orientation="horizontal",this.adaptive=!1,this.collapsed=!1,this.rounded=!0,this.size="m",t.addComponent(Rt)}get orientationHorizontal(){return"horizontal"===this.orientation}get orientationVertical(){return"vertical"===this.orientation}get sizeLarge(){return"l"===this.size}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(L.gH))},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiGroup","",5,"ng-container"]],hostAttrs:["role","group",1,"tui-group"],hostVars:12,hostBindings:function(t,n){2&t&&e.ekj("tui-group_adaptive",n.adaptive)("tui-group_collapsed",n.collapsed)("tui-group_rounded",n.rounded)("tui-group_orientation_horizontal",n.orientationHorizontal)("tui-group_orientation_vertical",n.orientationVertical)("tui-group_radius_large",n.sizeLarge)},inputs:{orientation:"orientation",adaptive:"adaptive",collapsed:"collapsed",rounded:"rounded",size:"size"}}),(0,d.gn)([(0,p.TH)()],i.prototype,"orientation",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"adaptive",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"collapsed",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"rounded",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"size",void 0),i})(),ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez]]}),i})();var $=s(4677),Bt=s(1225);function ze(i,o){return void 0===o?null:o<1e3?`${o} ${i[0]}`:o<1e6?`${(o/1e3).toFixed(0)} ${i[1]}`:`${(0,Bt.FG)(o/1e6,2).toLocaleString("ru-RU")} ${i[2]}`}var He=s(9841),f=s(9740),zt=s(1481),ne=s(2210);const Ht=["wrapper"];function Zt(i,o){if(1&i&&(e.TgZ(0,"tui-loader",4),e.GkF(1,5),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("overlay",!0)("showLoader",t.loading),e.xp6(1),e.Q6J("ngTemplateOutlet",t.content)}}function jt(i,o){if(1&i&&(e.ynx(0),e.Hsn(1),e.YNc(2,Zt,2,3,"tui-loader",3),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.async)("ngIfElse",t.content)}}const Qt=["*"];let Ze=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiExpandContent",""]]}),i})(),je=(()=>{class i{constructor(t){this.changeDetectorRef=t,this.state=0,this.async=!1,this.content=null,this.expanded=null}set expandedSetter(t){if(null!==this.expanded)return 0!==this.state?(this.expanded=t,void(this.state=3)):(this.expanded=t,void this.retrigger(this.async&&t?1:3));this.expanded=t}get overflow(){return 0!==this.state}get loading(){return!!this.expanded&&this.async&&1===this.state}get height(){const{expanded:t,state:n,contentWrapper:r}=this;return t&&2===n||!t&&3===n?0:r&&(!t&&2===n||t&&3===n)?r.nativeElement.offsetHeight:r&&t&&1===n?Math.max(r.nativeElement.offsetHeight,48):null}get contentVisible(){return this.expanded||0!==this.state}onTransitionEnd({propertyName:t}){"opacity"===t&&3===this.state&&(this.state=0)}onExpandLoaded(t){t.stopPropagation(),1===this.state&&this.retrigger(3)}retrigger(t){this.state=2,setTimeout(()=>{2===this.state&&(this.state=t,this.changeDetectorRef.markForCheck())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-expand"]],contentQueries:function(t,n,r){if(1&t&&e.Suo(r,Ze,5,e.Rgc),2&t){let a;e.iGM(a=e.CRH())&&(n.content=a.first)}},viewQuery:function(t,n){if(1&t&&e.Gf(Ht,5),2&t){let r;e.iGM(r=e.CRH())&&(n.contentWrapper=r.first)}},hostVars:9,hostBindings:function(t,n){1&t&&e.NdJ("transitionend.self",function(a){return n.onTransitionEnd(a)})("tui-expand-loaded",function(a){return n.onExpandLoaded(a)}),2&t&&(e.uIk("aria-expanded",n.expanded),e.Udp("height",n.height,"px"),e.ekj("_expanded",n.expanded)("_overflow",n.overflow)("_loading",n.loading))},inputs:{async:"async",expandedSetter:["expanded","expandedSetter"]},ngContentSelectors:Qt,decls:3,vars:1,consts:[[1,"t-wrapper"],["wrapper",""],[4,"ngIf"],["size","l",3,"overlay","showLoader",4,"ngIf","ngIfElse"],["size","l",3,"overlay","showLoader"],[3,"ngTemplateOutlet"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0,1),e.YNc(2,jt,3,2,"ng-container",2),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.contentVisible))},dependencies:[k.kM,l.O5,l.tP],styles:['[_nghost-%COMP%]{display:block;transition-property:opacity,height,visibility;transition-duration:var(--tui-duration, .3s);opacity:0}._overflow[_nghost-%COMP%]{overflow:hidden}._expanded[_nghost-%COMP%]{opacity:1;transform:translate(0)}._loading[_nghost-%COMP%]{opacity:.99}.t-wrapper[_ngcontent-%COMP%]:before, .t-wrapper[_ngcontent-%COMP%]:after{content:"";display:table}'],changeDetection:0}),(0,d.gn)([(0,p.TH)()],i.prototype,"async",void 0),(0,d.gn)([(0,p.NH)()],i.prototype,"expandedSetter",null),i})(),Qe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,k.dS]]}),i})();function Ut(i,o){if(1&i&&e.GkF(0,4),2&i){e.oxw();const t=e.MAs(4);e.Q6J("ngTemplateOutlet",t)}}function Yt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("tuiFocusVisibleChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onFocusVisible(r))}),e.GkF(1,4),e.qZA()}if(2&i){const t=e.oxw(),n=e.MAs(4);e.Q6J("href",t.src,e.LSH),e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Wt(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=o.polymorpheusOutlet;e.xp6(1),e.hij(" ",t," ")}}function Kt(i,o){if(1&i&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&i){const t=o.ngIf;e.xp6(1),e.hij(" ",t," ")}}function Xt(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=o.polymorpheusOutlet;e.xp6(1),e.hij(" ",t," ")}}function qt(i,o){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,Xt,2,1,"ng-container",7),e.qZA()),2&i){const t=o.ngIf;e.xp6(1),e.Q6J("polymorpheusOutlet",t)}}function ei(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click.prevent",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onRemoveClick())}),e.qZA()}if(2&i){const t=o.ngIf,n=e.oxw(3);e.ekj("t-remove_mobile",n.isMobile),e.Q6J("title",t.remove)}}function ti(i,o){if(1&i&&(e.ynx(0),e.YNc(1,ei,1,3,"button",17),e.ALo(2,"async"),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.fileTexts$))}}function ii(i,o){if(1&i&&(e.TgZ(0,"div",6),e.YNc(1,Wt,2,1,"ng-container",7),e.qZA(),e.TgZ(2,"div",8)(3,"div",9)(4,"div",10),e._uU(5),e.qZA(),e.TgZ(6,"div",11),e._uU(7),e.qZA(),e.YNc(8,Kt,2,1,"div",12),e.ALo(9,"async"),e.qZA(),e.YNc(10,qt,2,1,"div",13),e.ALo(11,"async"),e.Hsn(12),e.qZA(),e.YNc(13,ti,3,3,"ng-container",14)),2&i){const t=e.oxw(),n=e.MAs(6);e.ekj("t-preview_big",t.isBig),e.xp6(1),e.Q6J("polymorpheusOutlet",t.leftContent||n),e.xp6(4),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.type," "),e.xp6(1),e.Q6J("ngIf",t.showSize&&e.lcZ(9,8,t.fileSize$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,10,t.content$)),e.xp6(3),e.Q6J("ngIf",t.allowDelete)}}function oi(i,o){if(1&i&&e._UZ(0,"img",22),2&i){const t=e.oxw(2);e.Q6J("src",t.preview,e.LSH)}}function ni(i,o){if(1&i&&e._UZ(0,"tui-loader",24),2&i){const t=e.oxw(3);e.Q6J("inheritColor",t.isBig)}}function ri(i,o){if(1&i&&e.YNc(0,ni,1,1,"tui-loader",23),2&i){e.oxw();const t=e.MAs(4),n=e.oxw();e.Q6J("ngIf",n.isLoading)("ngIfElse",t)}}function ai(i,o){if(1&i&&e._UZ(0,"tui-svg",25),2&i){const t=e.oxw(2);e.ekj("t-icon_deleted",t.isDeleted)("t-icon_error",t.isError),e.Q6J("src",t.icon)}}function si(i,o){if(1&i&&(e.YNc(0,oi,1,1,"img",19),e.YNc(1,ri,1,2,"ng-template",null,20,e.W1O),e.YNc(3,ai,1,5,"ng-template",null,21,e.W1O)),2&i){const t=e.MAs(2),n=e.oxw();e.Q6J("ngIf",n.preview)("ngIfElse",t)}}const Je=["*"];function ui(i,o){1&i&&e.GkF(0)}function ci(i,o){if(1&i&&e.GkF(0,6),2&i){const t=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",t)}}function li(i,o){if(1&i&&(e.ynx(0),e.YNc(1,ci,1,1,"ng-container",5),e.BQk()),2&i){const t=o.index,n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.max||t<n.max)}}function di(i,o){if(1&i&&e.GkF(0,6),2&i){const t=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",t)}}function pi(i,o){if(1&i&&(e.ynx(0),e.YNc(1,di,1,1,"ng-container",5),e.BQk()),2&i){const t=o.index,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.max&&t>=n.max)}}function mi(i,o){if(1&i&&(e.TgZ(0,"tui-expand",7)(1,"div",8),e.YNc(2,pi,2,1,"ng-container",2),e.qZA()()),2&i){const t=e.oxw();e.Q6J("expanded",!t.hidden),e.xp6(2),e.Q6J("ngForOf",t.items)}}function gi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggle())}),e._uU(1),e.ALo(2,"async"),e.qZA()}if(2&i){const t=e.oxw();e.ekj("t-button_collapsed",t.hidden),e.xp6(1),e.hij(" ",e.lcZ(2,3,t.hidden?t.showAllText$:t.hideText$)," ")}}let _i=(()=>{class i{constructor(t,n,r,a){this.isMobile=t,this.sanitizer=n,this.fileTexts$=r,this.units$=a,this.file={name:""},this.state="normal",this.size="m",this.showDelete=!0,this.showSize=!0,this.leftContent="",this.removed=new e.vpe,this.focused=!1}get preview(){return this.isBig?this.createPreview(this.file,this.sanitizer):""}get isBig(){return"l"===this.size}get isLoading(){return"loading"===this.state}get isError(){return"error"===this.state}get isDeleted(){return"deleted"===this.state}get allowDelete(){return this.showDelete&&(0,w.fw)(this.removed)}get icon(){if("normal"===this.state&&this.isBig)return"tuiIconDefaultDocLarge";switch(this.state){case"deleted":return"tuiIconTrashLarge";case"error":return"tuiIconAlertCircleLarge";default:return"tuiIconCheckCircleLarge"}}get src(){return this.file.src||""}get name(){return this.getName(this.file)}get type(){return this.getType(this.file)}get content$(){return this.calculateContent$(this.state,this.file,this.fileTexts$)}get fileSize$(){return this.calculateFileSize$(this.file,this.units$)}onRemoveClick(){this.removed.emit()}onFocusVisible(t){this.focused=t}calculateContent$(t,n,r){return"error"!==t||n.content?(0,x.of)(this.file.content||""):r.pipe((0,g.U)(a=>a.loadingError))}calculateFileSize$(t,n){return n.pipe((0,g.U)(r=>ze(r,t.size)))}createPreview(t,n){return t.src?t.src:t instanceof File&&t.type&&t.type.startsWith("image/")?n.bypassSecurityTrustUrl(URL.createObjectURL(t)):""}getName(t){return t.name.split(".").slice(0,-1).join(".")}getType(t){return`.${t.name.split(".").pop()}`||""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Q.fL),e.Y36(zt.H7),e.Y36($.qk),e.Y36($.rV))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-file"]],hostVars:4,hostBindings:function(t,n){2&t&&e.ekj("_focused",n.focused)("_link",n.src)},inputs:{file:"file",state:"state",size:"size",showDelete:"showDelete",showSize:"showSize",leftContent:"leftContent"},outputs:{removed:"removed"},ngContentSelectors:Je,decls:7,vars:2,consts:[[3,"ngTemplateOutlet",4,"ngIf","ngIfElse"],["withLink",""],["fileInfoTemplate",""],["defaultLeftContent",""],[3,"ngTemplateOutlet"],["rel","noreferrer noopener","target","_blank",1,"t-link",3,"href","tuiFocusVisibleChange"],[1,"t-preview"],[4,"polymorpheusOutlet"],[1,"t-wrapper"],[1,"t-text"],["automation-id","tui-file__name",1,"t-name"],["automation-id","tui-file__type",1,"t-type"],["automation-id","tui-file__size","class","t-size",4,"ngIf"],["automation-id","tui-file__content","class","t-content",4,"ngIf"],[4,"ngIf"],["automation-id","tui-file__size",1,"t-size"],["automation-id","tui-file__content",1,"t-content"],["automation-id","tui-file__remove","tuiIconButton","","type","button","size","xs","icon","tuiIconCloseLarge","appearance","icon","class","t-remove",3,"title","t-remove_mobile","click.prevent",4,"ngIf"],["automation-id","tui-file__remove","tuiIconButton","","type","button","size","xs","icon","tuiIconCloseLarge","appearance","icon",1,"t-remove",3,"title","click.prevent"],["automation-id","tui-file__preview","class","t-image",3,"src",4,"ngIf","ngIfElse"],["loader",""],["svg",""],["automation-id","tui-file__preview",1,"t-image",3,"src"],["automation-id","tui-file__loader","class","t-loader",3,"inheritColor",4,"ngIf","ngIfElse"],["automation-id","tui-file__loader",1,"t-loader",3,"inheritColor"],["automation-id","tui-file__icon",1,"t-icon",3,"src"]],template:function(t,n){if(1&t&&(e.F$t(),e.YNc(0,Ut,1,1,"ng-container",0),e.YNc(1,Yt,2,2,"ng-template",null,1,e.W1O),e.YNc(3,ii,14,12,"ng-template",null,2,e.W1O),e.YNc(5,si,5,2,"ng-template",null,3,e.W1O)),2&t){const r=e.MAs(2);e.Q6J("ngIf",!n.src)("ngIfElse",r)}},dependencies:[y.v0,k.kM,A.P,l.O5,l.tP,Re,f.Li,l.Ov],styles:['[_nghost-%COMP%]{position:relative;display:flex;align-items:center;font:var(--tui-font-text-m);background:var(--tui-base-01);border:1px solid var(--tui-base-03);border-radius:var(--tui-radius-m)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-01-night)}[_nghost-%COMP%]:not(._link){padding:.5625rem 2.1875rem .5625rem .5625rem}[_nghost-%COMP%]:hover   .t-remove[_ngcontent-%COMP%]{opacity:1}._focused[_nghost-%COMP%]{border-color:var(--tui-focus);box-shadow:0 0 0 1px inset var(--tui-focus)}.t-link[_ngcontent-%COMP%]{display:flex;flex:1;padding:.5625rem 2.1875rem .5625rem .5625rem;text-decoration:none;outline:none;cursor:pointer;color:var(--tui-text-01);max-width:calc(100% - 2.75rem)}.t-link[_ngcontent-%COMP%]:hover{background-color:var(--tui-base-02)}.t-preview[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;width:1.5rem;height:1.5rem;margin-right:.75rem;border-radius:var(--tui-radius-m);overflow:hidden;color:var(--tui-base-06)}.t-preview_big[_ngcontent-%COMP%]{width:4rem;height:4rem;margin-right:1rem}.t-preview_big[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:"";background:var(--tui-base-08);opacity:.08}.t-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.t-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.t-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;color:var(--tui-success-fill)}.t-icon_error[_ngcontent-%COMP%]{color:var(--tui-error-fill)}.t-icon_deleted[_ngcontent-%COMP%]{color:var(--tui-base-06)}.t-remove[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.625rem;right:.625rem;opacity:0}.t-remove[_ngcontent-%COMP%]:focus, .t-remove_mobile[_ngcontent-%COMP%]{opacity:1}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden}.t-text[_ngcontent-%COMP%]{display:flex}.t-size[_ngcontent-%COMP%]{flex-shrink:0;opacity:var(--tui-disabled-opacity);margin-left:.5rem}.t-type[_ngcontent-%COMP%]{flex-shrink:0}.t-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-error-fill)}'],changeDetection:0}),(0,d.gn)([(0,p.TH)()],i.prototype,"file",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"state",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"size",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"showDelete",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"showSize",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"leftContent",void 0),(0,d.gn)([p.UM],i.prototype,"calculateContent$",null),(0,d.gn)([p.UM],i.prototype,"calculateFileSize$",null),(0,d.gn)([p.UM],i.prototype,"createPreview",null),(0,d.gn)([p.UM],i.prototype,"getName",null),(0,d.gn)([p.UM],i.prototype,"getType",null),i})(),fi=(()=>{class i{constructor(t,n){this.hideText$=t,this.showAllText$=n,this.items=null,this.max=0,this.hidden=!0}get hasExtraItems(){var t;return!!this.max&&((null===(t=this.items)||void 0===t?void 0:t.length)||0)>this.max}toggle(){this.hidden=!this.hidden}}return i.\u0275fac=function(t){return new(t||i)(e.Y36($.vy),e.Y36($.jV))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-files"]],contentQueries:function(t,n,r){if(1&t&&e.Suo(r,ne.w,4,e.Rgc),2&t){let a;e.iGM(a=e.CRH())&&(n.items=a)}},inputs:{max:"max"},ngContentSelectors:Je,decls:7,vars:7,consts:[[4,"ngIf"],["tuiGroup","","orientation","vertical",1,"t-files",3,"collapsed"],[4,"ngFor","ngForOf"],[3,"expanded",4,"ngIf"],["tuiButton","","appearance","outline","size","m","class","t-button",3,"t-button_collapsed","click",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"expanded"],[1,"t-extra-items"],["tuiButton","","appearance","outline","size","m",1,"t-button",3,"click"]],template:function(t,n){1&t&&(e.F$t(),e.YNc(0,ui,1,0,"ng-container",0),e.ALo(1,"async"),e.TgZ(2,"section",1),e.Hsn(3),e.YNc(4,li,2,1,"ng-container",2),e.YNc(5,mi,3,2,"tui-expand",3),e.YNc(6,gi,3,5,"button",4),e.qZA()),2&t&&(e.Q6J("ngIf",e.lcZ(1,5,null==n.items?null:n.items.changes)),e.xp6(2),e.Q6J("collapsed",!0),e.xp6(2),e.Q6J("ngForOf",n.items),e.xp6(1),e.Q6J("ngIf",n.hasExtraItems),e.xp6(1),e.Q6J("ngIf",n.hasExtraItems))},dependencies:[je,y.v0,l.O5,Vt,l.sg,l.tP,l.Ov],styles:["tui-files{display:block}tui-files .t-files{position:relative;display:block;width:100%;height:100%;border-radius:var(--tui-radius-m);overflow:hidden}tui-files .t-button{z-index:3;width:100%;background:var(--tui-base-01)}tui-files .t-button_collapsed{box-shadow:0 1.125rem 1.875rem rgba(0,0,0,.48);margin-top:-1.5rem}tui-files .t-extra-items tui-file{border-radius:0;margin-top:0;margin-bottom:-.0625rem}\n"],encapsulation:2,changeDetection:0}),(0,d.gn)([(0,p.TH)()],i.prototype,"max",void 0),i})(),vi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,ie,k.dS,f.wq,A.E,te,y.fN,ne.H,Qe]]}),i})();const Ue=["input"],hi=["formatRejection"],Ci=["maxSizeRejection"];function Ti(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=o.polymorpheusOutlet;e.xp6(1),e.hij(" ",t," ")}}function yi(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=o.polymorpheusOutlet;e.xp6(1),e.hij(" ",t," ")}}function xi(i,o){if(1&i&&(e.ynx(0),e.Hsn(1),e._UZ(2,"input",7,8),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("id",t.id)("accept",t.accept)("multiple",t.multiple)("tuiFocusable",t.focusable)}}function bi(i,o){if(1&i&&(e._uU(0),e.ALo(1,"async")),2&i){const t=e.oxw();let n;e.hij(" ",(null==(n=e.lcZ(1,1,t.inputFileTexts$))?null:n.formatRejectionReason)||"","\n")}}function Si(i,o){if(1&i&&(e._uU(0),e.ALo(1,"async"),e.ALo(2,"tuiMaxSizeRejectionError")),2&i){const t=e.oxw();e.hij(" ",e.lcZ(1,1,e.lcZ(2,3,t.maxFileSize)),"\n")}}const Di=[[["input"]]],Ye={capture:null,accepts:"",multiple:!1,size:"m",maxFileSize:3e7},re=new e.OlP("[TUI_INPUT_FILES_OPTIONS]: Default parameters for input files component",{factory:()=>Ye});let We=(()=>{class i{constructor(t,n,r,a){this.host=t,this.elementRef=n,this.idService=r,this.options=a}get tabIndex(){return this.host.focusable?0:-1}get id(){return this.elementRef.nativeElement.id||this.idService.generate()}get accept(){var t;return null!==(t=this.elementRef.nativeElement.accept)&&void 0!==t?t:this.options.accepts}get multiple(){var t;return null!==(t=this.elementRef.nativeElement.multiple)&&void 0!==t?t:this.options.multiple}get capture(){var t;return null!==(t=this.elementRef.nativeElement.capture)&&void 0!==t?t:this.options.capture}get input(){return this.elementRef.nativeElement}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ke),e.Y36(e.SBq),e.Y36(L.ll),e.Y36(re))},i.\u0275dir=e.lG2({type:i,selectors:[["input","tuiInputFiles",""]],hostAttrs:["type","file",1,"t-native"],hostVars:5,hostBindings:function(t,n){2&t&&e.Ikx("tabIndex",n.tabIndex)("id",n.id)("accept",n.accept)("multiple",n.multiple)("capture",n.capture)}}),i})(),Oi=(()=>{class i{constructor(t,n){this.inputFileTexts$=t,this.units$=n}transform(t){return(0,He.a)([this.inputFileTexts$,this.units$]).pipe((0,g.U)(([{maxSizeRejectionReason:n},r])=>n+ze(r,t)))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36($.BV,16),e.Y36($.rV,16))},i.\u0275pipe=e.Yjl({name:"tuiMaxSizeRejectionError",type:i,pure:!0}),i})(),Ke=(()=>{class i extends Ee.F9{constructor(t,n,r,a,c){super(t,n),this.isMobile=r,this.inputFileTexts$=a,this.options=c,this.dataTransfer=null,this.link="",this.label="",this.accept=this.options.accepts,this.multiple=this.options.multiple,this.size=this.options.size,this.maxFileSize=this.options.maxFileSize,this.reject=new e.vpe}get computedMultiple(){var t,n;return null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.multiple)&&void 0!==n?n:this.multiple}get computedAccept(){var t,n;return null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.accept)&&void 0!==n?n:this.accept}get nativeFocusableElement(){var t;return(null===(t=this.input)||void 0===t?void 0:t.nativeElement)||null}get focused(){return(0,ee.V8)(this.nativeFocusableElement)}get computedPseudoHovered(){var t;return null!==(t=this.pseudoHover)&&void 0!==t?t:this.fileDragged||null}get computedLink$(){return this.computeLink$(this.fileDragged,this.computedMultiple,this.link)}get computedLabel$(){return this.computeLabel$(this.isMobile,this.fileDragged,this.computedMultiple,this.label)}get fileDragged(){var t;return!(null===(t=this.dataTransfer)||void 0===t||!t.types.includes("Files"))}get arrayValue(){return this.getValueArray(this.value)}onFocused(t){this.updateFocused(t)}onFilesSelected(){var t,n,r;const a=null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.input)&&void 0!==n?n:null===(r=this.input)||void 0===r?void 0:r.nativeElement;!a||(this.processSelectedFiles(a.files),a.value="")}onDropped(t){this.processSelectedFiles(t.files)}onDragOver(t){this.dataTransfer=t}removeFile(t){this.updateValue(this.computedMultiple?this.arrayValue.filter(n=>n!==t):null)}computeLink$(t,n,r){return t?(0,x.of)(""):this.inputFileTexts$.pipe((0,g.U)(a=>n&&""===r?a.defaultLinkMultiple:r||a.defaultLinkSingle))}computeLabel$(t,n,r,a){return t?(0,x.of)(""):this.inputFileTexts$.pipe((0,g.U)(n?c=>r?c.dropMultiple:c.drop:c=>r&&""===a?c.defaultLabelMultiple:a||c.defaultLabelSingle))}getValueArray(t){return t?Array.isArray(t)?t:[t]:Ne.LZ}processSelectedFiles(t){if(!t?.length)return;const n={formatRejection:this.formatRejection,maxSizeRejection:this.maxSizeRejection},r=this.computedMultiple?Array.from(t):[t[0]],a=r.filter(v=>v.size>this.maxFileSize),c=r.filter(v=>!this.isFormatAcceptable(v)&&!a.includes(v)),_=r.filter(v=>!a.includes(v)&&!c.includes(v));(a.length||c.length)&&this.rejectFiles([...a.map(v=>({name:v.name,type:v.type,size:v.size,content:n.maxSizeRejection})),...c.map(v=>({name:v.name,type:v.type,size:v.size,content:n.formatRejection}))]),this.updateValue(this.computedMultiple?[...this.arrayValue,..._]:_[0]||null)}isFormatAcceptable(t){if(!this.computedAccept)return!0;const n=`.${(t.name.split(".").pop()||"").toLowerCase()}`;return function Gt(i){return i.toLowerCase().split(",").map(o=>o.trim())}(this.computedAccept).some(r=>r===n||r===t.type||"*"===r.split("/")[1]&&t.type.split("/")[0]===r.split("/")[0])}rejectFiles(t){this.reject.emit(this.computedMultiple?t:t[0])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.a5,10),e.Y36(e.sBO),e.Y36(Q.fL),e.Y36($.BV),e.Y36(re))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-input-files"]],contentQueries:function(t,n,r){if(1&t&&e.Suo(r,We,5,We),2&t){let a;e.iGM(a=e.CRH())&&(n.nativeInput=a.first)}},viewQuery:function(t,n){if(1&t&&(e.Gf(Ue,5),e.Gf(hi,5),e.Gf(Ci,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.input=r.first),e.iGM(r=e.CRH())&&(n.formatRejection=r.first),e.iGM(r=e.CRH())&&(n.maxSizeRejection=r.first)}},hostBindings:function(t,n){1&t&&e.NdJ("focusin",function(){return n.onFocused(!0)})("focusout",function(){return n.onFocused(!1)})("change",function(){return n.onFilesSelected()})},inputs:{link:"link",label:"label",accept:"accept",multiple:"multiple",size:"size",maxFileSize:"maxFileSize"},outputs:{reject:"reject"},features:[e._Bn([Be.CV,(0,Q.FT)(i)]),e.qOj],ngContentSelectors:Ue,decls:12,vars:13,consts:[["tuiWrapper","","appearance","input-file",1,"t-wrapper",3,"focus","hover","active","disabled"],["automation-id","tui-input-file__label",1,"t-label",3,"tuiDroppableDropped","tuiDroppableDragOverChange","mousedown.prevent.silent"],["tuiLink",""],[4,"polymorpheusOutlet"],[4,"ngIf"],["formatRejection",""],["maxSizeRejection",""],["type","file",1,"t-native",3,"id","accept","multiple","tuiFocusable"],["input",""]],template:function(t,n){1&t&&(e.F$t(Di),e.TgZ(0,"div",0)(1,"label",1),e.NdJ("tuiDroppableDropped",function(a){return n.onDropped(a)})("tuiDroppableDragOverChange",function(a){return n.onDragOver(a)})("mousedown.prevent.silent",function(){return 0}),e.TgZ(2,"a",2),e.YNc(3,Ti,2,1,"ng-container",3),e.ALo(4,"async"),e.qZA(),e.YNc(5,yi,2,1,"ng-container",3),e.ALo(6,"async"),e.YNc(7,xi,4,4,"ng-container",4),e.qZA()(),e.YNc(8,bi,2,3,"ng-template",null,5,e.W1O),e.YNc(10,Si,3,5,"ng-template",null,6,e.W1O)),2&t&&(e.ekj("_mobile",n.isMobile),e.Q6J("focus",n.computedFocused)("hover",n.pseudoHover||n.fileDragged||null)("active",n.pseudoActive)("disabled",n.computedDisabled),e.xp6(3),e.Q6J("polymorpheusOutlet",e.lcZ(4,9,n.computedLink$)),e.xp6(2),e.Q6J("polymorpheusOutlet",e.lcZ(6,11,n.computedLabel$)),e.xp6(2),e.Q6J("ngIf",!n.readOnly&&!n.computedDisabled))},dependencies:[R.V,Ve.o,At,f.Li,l.O5,j.t,l.Ov,Oi],styles:["tui-input-files{display:block}tui-input-files .t-native{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}tui-input-files .t-native::-webkit-file-upload-button{display:none}tui-input-files .t-native+.t-native{display:none}tui-input-files .t-label{text-align:center}[tuiWrapper][data-appearance=input-file]{display:flex;background:transparent;font:var(--tui-font-text-m);word-wrap:break-word;color:var(--tui-text-02);flex:1;justify-content:center;align-items:center;min-height:var(--tui-height-l);border-radius:var(--tui-radius-m);padding:1rem .5rem;box-sizing:border-box}[tuiWrapper][data-appearance=input-file]:after{border:1px dashed;color:var(--tui-link)}[tuiWrapper][data-appearance=input-file]._mobile:after{border:1px solid}[tuiWrapper][data-appearance=input-file]:disabled:disabled,[tuiWrapper][data-appearance=input-file][data-state=disabled][data-state=disabled]{opacity:var(--tui-disabled-opacity);pointer-events:none}[tuiWrapper][data-appearance=input-file]:disabled:disabled:after,[tuiWrapper][data-appearance=input-file][data-state=disabled][data-state=disabled]:after{color:var(--tui-text-03)}[tuiWrapper][data-appearance=input-file]:focus-visible:focus-visible:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file]._focused._focused:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:focus-visible:focus-visible:after{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]._focused._focused:after{color:var(--tui-text-01-night)}@media (hover: hover){[tuiWrapper][data-appearance=input-file][data-mode=onDark]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=hover]{background:var(--tui-clear-inverse-hover)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=hover]:after{color:var(--tui-text-03-night)}}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active],[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:hover{background:var(--tui-clear-inverse-active)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:active:not(._no-active):after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:hover:after{color:var(--tui-text-03-night)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]{color:var(--tui-text-01)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:after{color:var(--tui-text-01)}@media (hover: hover){[tuiWrapper][data-appearance=input-file][data-mode=onLight]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=hover]{background:var(--tui-clear-hover)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=hover]:after{color:var(--tui-text-03)}}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active],[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:hover{background:var(--tui-clear-active)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:active:not(._no-active):after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:hover:after{color:var(--tui-text-03)}@media (hover: hover){[tuiWrapper][data-appearance=input-file]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-state=hover]{background:var(--tui-secondary)}[tuiWrapper][data-appearance=input-file]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-state=hover]:after{color:var(--tui-link-hover)}}[tuiWrapper][data-appearance=input-file]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-state=active],[tuiWrapper][data-appearance=input-file][data-state=active]:hover{background:var(--tui-secondary-hover)}\n"],encapsulation:2,changeDetection:0}),(0,d.gn)([(0,p.TH)()],i.prototype,"link",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"label",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"accept",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"multiple",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"size",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"maxFileSize",void 0),(0,d.gn)([p.UM],i.prototype,"computeLink$",null),(0,d.gn)([p.UM],i.prototype,"computeLabel$",null),(0,d.gn)([p.UM],i.prototype,"getValueArray",null),i})(),Ii=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,f.wq,P.WD,ke,te,Nt,kt.VE,j.u,Pt,Ve.W,A.E,R.j,k.dS,y.fN,ie,vi]]}),i})();var wi=s(3422),Fi=s(2585),Xe=s(1127);let Mi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),qe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,f.wq,Mi,V.pc,k.dS]]}),i})();var Ni=s(9040);function ki(i,o){1&i&&e._UZ(0,"tui-svg",2),2&i&&e.Q6J("src",o.polymorpheusOutlet)}function Ri(i,o){1&i&&e.GkF(0)}const et={iconSmall:"tuiIconChevronDown",iconLarge:"tuiIconChevronDownLarge"},tt=new e.OlP("[TUI_ARROW_OPTIONS]: Default parameters for arrow component",{factory:()=>et});new e.OlP("[TUI_ARROW_MODE]: Type of icon in dropdowns for interactive or disable mode",{factory:()=>({interactive:J,disabled:J})});const J=new f.Al((()=>{class i{constructor(t,n,r){this.dropdown=t,this.textfieldSize=n,this.options=r}get rotated(){return this.dropdown.open}get arrowIcon(){return(0,Ni.R9)(this.textfieldSize.size)?this.options.iconLarge:this.options.iconSmall}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Xe.o1),e.Y36(E.kI),e.Y36(tt))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-arrow"]],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("_rotated",n.rotated)},decls:3,vars:4,consts:[[3,"src",4,"polymorpheusOutlet"],[4,"ngIf"],[3,"src"]],template:function(t,n){1&t&&(e.YNc(0,ki,1,1,"tui-svg",0),e.YNc(1,Ri,1,0,"ng-container",1),e.ALo(2,"async")),2&t&&(e.Q6J("polymorpheusOutlet",n.arrowIcon),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,n.dropdown.openChange)))},dependencies:[A.P,f.Li,l.O5,l.Ov],styles:["[_nghost-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;cursor:pointer;pointer-events:none}._rotated[_nghost-%COMP%]{transform:rotate(180deg)}"],changeDetection:0}),i})());let Gi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,A.E,f.wq]]}),i})();var zi=s(5825),ae=s(5963);let Hi=(()=>{class i{constructor(t,n){this.elementRef=t,this.destroy$=n}set tuiScrollIntoView(t){!t||(0,ae.H)(0).pipe((0,N.R)(this.destroy$)).subscribe(()=>{this.elementRef.nativeElement.dispatchEvent(new CustomEvent(zi.fe,{bubbles:!0,detail:this.elementRef.nativeElement}))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(L.a3,2))},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},features:[e._Bn([L.a3])]}),(0,d.gn)([(0,p.NH)()],i.prototype,"tuiScrollIntoView",null),i})(),Zi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var it=s(1308),se=s(515);function ji(i,o){1&i&&e._UZ(0,"tui-svg",3),2&i&&e.Q6J("tuiScrollIntoView",!0)}function Qi(i,o){1&i&&e._UZ(0,"span",4)}new f.Al((()=>{class i{constructor(t,n,r,a,c,_){this.context=t,this.host=n,this.elementRef=r,this.option=a,this.dataList=c,this.control=_,this.selected$=(0,X.T)(this.control.valueChanges||se.E,(0,w.mL)(this.elementRef.nativeElement,"animationstart")).pipe((0,q.O)(null),(0,g.U)(()=>this.selected),(0,B.x)())}get matcher(){return this.host.identityMatcher||Ne.bg}ngOnInit(){Promise.resolve().then(()=>{(0,Z.Pc)(this.option.value)&&this.host.checkOption&&this.host.checkOption(this.option.value)})}get selected(){return(0,Z.Pc)(this.option.value)&&(0,Z.Pc)(this.control.value)&&this.matcher(this.control.value,this.option.value)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.yf),e.Y36(it.N1),e.Y36(e.SBq),e.Y36(V.vK),e.Y36(V.qi,8),e.Y36(h.a5))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-select-option"]],decls:5,vars:5,consts:[[3,"ngTemplateOutlet"],["automation-id","tui-select-option__checkmark","src","tuiIconCheckLarge","class","t-checkmark",3,"tuiScrollIntoView",4,"ngIf","ngIfElse"],["dummy",""],["automation-id","tui-select-option__checkmark","src","tuiIconCheckLarge",1,"t-checkmark",3,"tuiScrollIntoView"],[1,"t-dummy"]],template:function(t,n){if(1&t&&(e.GkF(0,0),e.YNc(1,ji,1,1,"tui-svg",1),e.ALo(2,"async"),e.YNc(3,Qi,1,0,"ng-template",null,2,e.W1O)),2&t){const r=e.MAs(4);e.Q6J("ngTemplateOutlet",n.context.$implicit),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,n.selected$))("ngIfElse",r)}},dependencies:[A.P,l.tP,l.O5,Hi,l.Ov],styles:["@keyframes retrigger{0%{left:1px}to{left:2px}}[_nghost-%COMP%]{display:flex;flex:1;align-items:center;max-width:100%;animation:retrigger 1s}.t-checkmark[_ngcontent-%COMP%]{margin:0 -.375rem 0 auto;border-left:5px solid transparent}.t-dummy[_ngcontent-%COMP%]{width:1.5rem}"],changeDetection:0}),i})());let Ui=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,A.E,Zi]]}),i})();const ot={valueContent:""};new e.OlP("[TUI_SELECT_OPTIONS]: Default parameters for select component",{factory:()=>ot});let eo=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,f.wq,wi.A,Fi.KW,Xe.jh,Ui,Gi,E.cn,qe,V.pc]]}),i})(),to=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,y.fN,M.Qf,E.cn,he.c2,z.Q7,h.UX,Ii,eo,V.pc,qe,P.WD,H.U,h.u5]}),i})();const io=[Ot];let oo=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[xe,Pe],imports:[l.ez,h.UX,to,y.fN,St,K.E6,P.WD,C.sQ.forFeature(io),u.Aw.forFeature("videos",wt)]}),i})();var nt=s(1917);const no=["focusableElement"];function ro(i,o){if(1&i&&e._UZ(0,"tui-svg",8),2&i){const t=e.oxw();e.ekj("t-icon_open",t.open)}}function ao(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=o.polymorpheusOutlet;e.xp6(1),e.hij(" ",t," ")}}function so(i,o){if(1&i&&(e.TgZ(0,"div",10),e.YNc(1,ao,2,1,"ng-container",11),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("polymorpheusOutlet",t.lazyContent)}}function uo(i,o){if(1&i&&e.YNc(0,so,2,1,"div",9),2&i){const t=e.oxw();e.Q6J("ngIf",t.lazyContent)}}function co(i,o){1&i&&(e.TgZ(0,"div",12),e.Hsn(1,1),e.qZA())}const lo=["*",[["","tuiAccordionItemContent",""]]],po=["*","[tuiAccordionItemContent]"];let rt=(()=>{class i extends f.GL{constructor(t,n){super(t,n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.Rgc,2),e.Y36(e.sBO))},i.\u0275dir=e.lG2({type:i,selectors:[["ng-template","tuiAccordionItemContent",""]],features:[e.qOj]}),i})(),mo=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiAccordionItemContent","",5,"ng-template"]]}),i})(),go=(()=>{class i extends Ee.Xn{constructor(t,n){super(),this.changeDetectorRef=t,this.mode$=n,this.noPadding=!1,this.showArrow=!0,this.borders="all",this.size="m",this.disabled=!1,this.disableHover=!1,this.open=!1,this.async=!1,this.openChange=new e.vpe}get nativeFocusableElement(){return this.disabled||!this.focusableElement?null:this.focusableElement.nativeElement}get focused(){return(0,ee.V8)(this.nativeFocusableElement)}onFocused(t){this.updateFocused(t)}onFocusVisible(t){this.updateFocusVisible(t)}onRowToggle(){this.disabled||this.updateOpen(!this.open)}onItemKeyDownEsc(t){!this.open||(t.stopPropagation(),this.updateOpen(!1))}close(){this.updateOpen(!1),this.changeDetectorRef.markForCheck()}updateOpen(t){this.open!==t&&(this.open=t,this.openChange.emit(t))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(it.Au))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-accordion-item"]],contentQueries:function(t,n,r){if(1&t&&(e.Suo(r,mo,5),e.Suo(r,rt,5)),2&t){let a;e.iGM(a=e.CRH())&&(n.eagerContent=a.first),e.iGM(a=e.CRH())&&(n.lazyContent=a.first)}},viewQuery:function(t,n){if(1&t&&e.Gf(no,5),2&t){let r;e.iGM(r=e.CRH())&&(n.focusableElement=r.first)}},hostVars:8,hostBindings:function(t,n){1&t&&e.NdJ("$.data-mode.attr",function(){return n.mode$}),2&t&&(e.uIk("data-tui-host-borders",n.borders)("data-size",n.size),e.ekj("_no-padding",n.noPadding)("_has-arrow",n.showArrow)("_disabled",n.disabled))},inputs:{noPadding:"noPadding",showArrow:"showArrow",borders:"borders",size:"size",disabled:"disabled",disableHover:"disableHover",open:"open",async:"async"},outputs:{openChange:"openChange"},features:[e._Bn([(0,Q.FT)(i),Be.CV]),e.qOj],ngContentSelectors:po,decls:9,vars:10,consts:[["automation-id","tui-accordion__item-wrapper",1,"t-wrapper"],["automation-id","tui-accordion__item-header",1,"t-header",3,"disabled","tuiFocusable","tuiFocusVisibleChange","tuiFocusedChange","keydown.esc","click"],["focusableElement",""],["automation-id","tui-accordion__item-title",1,"t-title"],["automation-id","tui-accordion__item-arrow","src","tuiIconChevronDownLarge","class","t-icon",3,"t-icon_open",4,"ngIf"],[3,"async","expanded"],["tuiExpandContent",""],["class","t-content",4,"ngIf"],["automation-id","tui-accordion__item-arrow","src","tuiIconChevronDownLarge",1,"t-icon"],["automation-id","tui-accordion__item-content","class","t-content",4,"ngIf"],["automation-id","tui-accordion__item-content",1,"t-content"],[4,"polymorpheusOutlet"],[1,"t-content"]],template:function(t,n){1&t&&(e.F$t(lo),e.TgZ(0,"div",0)(1,"button",1,2),e.NdJ("tuiFocusVisibleChange",function(a){return n.onFocusVisible(a)})("tuiFocusedChange",function(a){return n.onFocused(a)})("keydown.esc",function(a){return n.onItemKeyDownEsc(a)})("click",function(){return n.onRowToggle()}),e.TgZ(3,"span",3),e.Hsn(4),e.qZA(),e.YNc(5,ro,1,2,"tui-svg",4),e.qZA(),e.TgZ(6,"tui-expand",5),e.YNc(7,uo,1,1,"ng-template",6),e.YNc(8,co,2,0,"div",7),e.qZA()()),2&t&&(e.xp6(1),e.ekj("t-header_open",n.open)("t-header_hoverable",!n.disableHover),e.Q6J("disabled",n.computedDisabled)("tuiFocusable",n.computedFocusable),e.xp6(4),e.Q6J("ngIf",n.showArrow),e.xp6(1),e.Q6J("async",n.async)("expanded",n.open),e.xp6(2),e.Q6J("ngIf",n.eagerContent))},dependencies:[A.P,je,j.t,Re,Et,l.O5,Ze,f.Li],styles:['[_nghost-%COMP%]{position:relative;display:block;overflow:hidden;border-radius:var(--tui-radius-l)}[data-tui-host-borders=top-bottom][_nghost-%COMP%]{border-radius:0!important}.t-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:inherit}.t-wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";box-sizing:border-box;border-radius:inherit;border:1px solid var(--tui-base-04);pointer-events:none}[_nghost-%COMP%]:not([data-tui-host-borders])   .t-wrapper[_ngcontent-%COMP%]:after{border-width:0}[data-tui-host-borders=all][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-width:1px}[data-tui-host-borders=top-bottom][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-left-width:0;border-right-width:0}[data-tui-host-borders=top][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-left-width:0;border-right-width:0;border-bottom-width:0}[data-tui-host-borders=bottom][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-left-width:0;border-right-width:0;border-top-width:0}[data-mode=onDark][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-color:var(--tui-base-03)}[data-mode=onLight][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-color:var(--tui-text-01)}._focus-visible[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border:2px solid var(--tui-focus)}[_nghost-%COMP%]:not([data-mode])   .t-wrapper[_ngcontent-%COMP%]{background:var(--tui-base-01)}.t-header[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;background:none;font-size:inherit;line-height:inherit;transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;width:100%;font:var(--tui-font-text-l);align-items:center;box-sizing:border-box;border-bottom:1px solid var(--tui-base-04);min-height:var(--tui-height-l);padding:.75rem 1.25rem;color:var(--tui-text-01);cursor:pointer;text-align:left;outline:none}[data-mode=onDark][_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{color:var(--tui-text-01-night);border-color:var(--tui-base-03)}[data-mode=onLight][_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{border-color:var(--tui-text-01)}[_nghost-%COMP%]:not([data-tui-host-borders])   .t-header[_ngcontent-%COMP%]{border-bottom-width:0;box-shadow:none}._has-arrow[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{padding-right:.75rem}[data-mode=onDark][_nghost-%COMP%]   .t-header_open[_ngcontent-%COMP%]{background:var(--tui-clear-inverse)}[data-mode=onLight][_nghost-%COMP%]   .t-header_open[_ngcontent-%COMP%]{background:var(--tui-clear)}[data-size=s][_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{font:var(--tui-font-text-m);min-height:var(--tui-height-m);padding:.625rem .75rem .625rem 1rem}._no-padding[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{padding-left:0;padding-right:0}._disabled[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]:hover:not([data-mode])   .t-header_hoverable[_ngcontent-%COMP%]{background:var(--tui-base-02)}[_nghost-%COMP%]:hover[data-mode=onDark]   .t-header_hoverable[_ngcontent-%COMP%]{background:var(--tui-clear-inverse)}[_nghost-%COMP%]:hover[data-mode=onLight]   .t-header_hoverable[_ngcontent-%COMP%]{background:var(--tui-clear)}.t-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:0;flex-grow:1}._has-arrow[_nghost-%COMP%]   .t-title[_ngcontent-%COMP%]{margin-right:.5rem}.t-icon[_ngcontent-%COMP%]{transition-property:transform,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;width:1.5rem;height:1.5rem;margin-left:auto;color:var(--tui-base-06)}.t-icon_open[_ngcontent-%COMP%]{transform:rotate(180deg)}[data-mode][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}[_nghost-%COMP%]:hover[data-mode]   .t-icon[_ngcontent-%COMP%]{opacity:.8}[data-mode=onDark][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onLight][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{color:var(--tui-text-01)}[_nghost-%COMP%]:hover:not([data-mode])   .t-icon[_ngcontent-%COMP%]{color:var(--tui-base-07)}.t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-m);padding:1.25rem;word-wrap:break-word}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-s);padding:1rem}'],changeDetection:0}),(0,d.gn)([(0,p.TH)()],i.prototype,"noPadding",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"showArrow",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"borders",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"size",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"disabled",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"disableHover",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"open",void 0),(0,d.gn)([(0,p.TH)()],i.prototype,"async",void 0),i})(),_o=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,ke,te,j.u,f.wq,A.E,ie,Qe]]}),i})();function U(i){return{id:i._id,name:i.name}}let ue=(()=>{class i{constructor(t){this.http=t}fetchCourses$(){return this.http.get(`${b.J}/courses`)}fetchCoursesByName$(t){return this.http.get(`${b.J}/courses/search`,{params:{courseName:t}})}fetchCourseById$(t){return this.http.get(`${b.J}/course/${t}`)}deleteCourseById$(t){return this.http.delete(`${b.J}/course/${t}`)}deleteCourses$(){return this.http.delete(`${b.J}/courses`)}createCourse$(t){return this.http.post(`${b.J}/course`,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ye.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),at=(()=>{class i{constructor(t){this.coursesService=t}getCourses$(){return this.coursesService.fetchCourses$().pipe((0,g.U)(t=>t.map(n=>U(n))))}getCoursesByName$(t){return this.coursesService.fetchCoursesByName$(t).pipe((0,g.U)(n=>n.map(r=>U(r))))}createCourse$(t){return this.coursesService.createCourse$(t).pipe((0,g.U)(n=>U(n)))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ue))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();(0,u.PH)("[Courses Page] Get Courses Loading State");const S=(0,u.PH)("[Courses Page] Get Courses Loading State",(0,u.Ky)()),st=(0,u.PH)("[Courses Page] Load All Courses"),fo=(0,u.PH)("[Courses Page] Load Course By Course Id",(0,u.Ky)()),ut=(0,u.PH)("[Courses Page] Load Courses By Course Name",(0,u.Ky)()),ce=(0,u.PH)("[Courses Page] Load Courses Success",(0,u.Ky)()),ct=(0,u.PH)("[Course Page] Create Course",(0,u.Ky)()),lt=(0,u.PH)("[Course Page] Create Course Success",(0,u.Ky)()),le=(0,u.PH)("[Course Page] Remove Courses"),vo=(0,u.PH)("[Course Page] Remove Courses Success"),dt=(0,u.PH)("[Courses Page] Remove Course By Course Id",(0,u.Ky)()),pt=(0,u.PH)("[Courses Page] Remove Course By Course Id Success",(0,u.Ky)());let ho=(()=>{class i{constructor(t,n,r,a){this.actions$=t,this.store$=n,this.coursesLoadService=r,this.coursesService=a,this.loadCourses$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(st),(0,T.b)(()=>this.store$.dispatch(S({loadingState:m.G.LOADING}))),(0,O.w)(()=>this.coursesLoadService.getCourses$().pipe((0,T.b)(c=>this.store$.dispatch(S({loadingState:c?.length?m.G.SUCCESS:m.G.NOT_FOUND}))),(0,g.U)(c=>ce({courses:c})),(0,F.K)(()=>(0,x.of)(S({loadingState:m.G.LOADING_ERROR}))))))),this.loadCoursesByName$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(ut),(0,T.b)(()=>this.store$.dispatch(S({loadingState:m.G.LOADING}))),(0,O.w)(({courseName:c})=>this.coursesLoadService.getCoursesByName$(c).pipe((0,T.b)(_=>this.store$.dispatch(S({loadingState:_?.length?m.G.SUCCESS:m.G.NOT_FOUND}))),(0,g.U)(_=>ce({courses:_})),(0,F.K)(()=>(0,x.of)(S({loadingState:m.G.LOADING_ERROR}))))))),this.removeCourseById$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(dt),(0,T.b)(()=>this.store$.dispatch(S({loadingState:m.G.LOADING}))),(0,O.w)(({courseId:c})=>this.coursesService.deleteCourseById$(c).pipe((0,T.b)(()=>this.store$.dispatch(S({loadingState:m.G.SUCCESS}))),(0,g.U)(()=>pt({courseId:c})),(0,F.K)(()=>(0,x.of)(S({loadingState:m.G.LOADING_ERROR}))))))),this.removeCourses$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(le),(0,T.b)(()=>this.store$.dispatch(S({loadingState:m.G.LOADING}))),(0,O.w)(()=>this.coursesService.deleteCourses$().pipe((0,T.b)(()=>this.store$.dispatch(S({loadingState:m.G.SUCCESS}))),(0,g.U)(()=>vo()),(0,F.K)(()=>(0,x.of)(S({loadingState:m.G.LOADING_ERROR}))))))),this.createCourse$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(ct),(0,T.b)(()=>this.store$.dispatch(S({loadingState:m.G.LOADING}))),(0,O.w)(({course:c})=>this.coursesLoadService.createCourse$(c).pipe((0,T.b)(_=>this.store$.dispatch(S({loadingState:_?m.G.SUCCESS:m.G.LOADING_ERROR}))),(0,g.U)(_=>lt({course:_})),(0,F.K)(()=>se.E)))))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(C.eX),e.LFG(u.yh),e.LFG(at),e.LFG(ue))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const To=(0,u.Lq)({loadingState:m.G.LOADING,courses:[]},(0,u.on)(S,(i,{loadingState:o})=>({...i,loadingState:o})),(0,u.on)(ce,(i,{courses:o})=>({...i,courses:o})),(0,u.on)(le,i=>({...i,courses:[]})),(0,u.on)(pt,(i,{courseId:o})=>({...i,courses:i.courses.filter(t=>t.id!==o)})),(0,u.on)(lt,(i,{course:o})=>({...i,courses:[...i.courses,o]}))),mt="courses",gt=(0,u.ZF)(mt),yo=(0,u.P1)(gt,i=>i.loadingState),xo=(0,u.P1)(gt,i=>i.courses);let de=(()=>{class i{constructor(t){this.store$=t}get courses$(){return this.store$.select(xo)}get loadingState$(){return this.store$.select(yo)}loadCourses(){this.store$.dispatch(st())}loadCoursesByName(t){this.store$.dispatch(ut({courseName:t}))}loadCoursesById(t){this.store$.dispatch(fo({courseId:t}))}removeCourseById(t){this.store$.dispatch(dt({courseId:t}))}removeCourses(){this.store$.dispatch(le())}createCourse(t){this.store$.dispatch(ct({course:t}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var D=s(6582),pe=s(6838);let bo=(()=>{class i{constructor(t){this.context=t}submit(t){this.context.completeWith(!!t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.yf))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-remove-course-dialog"]],decls:5,vars:0,consts:[[1,"control"],["tuiButton","","type","button","size","m","appearance","primary",3,"click"],["tuiButton","","type","button","size","m","appearance","accent",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.submit(!1)}),e._uU(2," \u041d\u0435\u0442 "),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.submit(!0)}),e._uU(4," \u0414\u0430 "),e.qZA()())},dependencies:[y.v0],styles:[".control[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:flex-end}.control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}"],changeDetection:0}),i})();var So=s(9751),Do=s(727),Oo=s(4408);let me,Io=1;const Y={};function _t(i){return i in Y&&(delete Y[i],!0)}const wo={setImmediate(i){const o=Io++;return Y[o]=!0,me||(me=Promise.resolve()),me.then(()=>_t(o)&&i()),o},clearImmediate(i){_t(i)}},{setImmediate:Fo,clearImmediate:Mo}=wo,W={setImmediate(...i){const{delegate:o}=W;return(o?.setImmediate||Fo)(...i)},clearImmediate(i){const{delegate:o}=W;return(o?.clearImmediate||Mo)(i)},delegate:void 0};var Ao=s(7565);const $o=new class Po extends Ao.v{flush(o){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;o=o||n.shift();do{if(r=o.execute(o.state,o.delay))break}while((o=n[0])&&o.id===t&&n.shift());if(this._active=!1,r){for(;(o=n[0])&&o.id===t&&n.shift();)o.unsubscribe();throw r}}}(class Lo extends Oo.o{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,n=0){return null!==n&&n>0?super.requestAsyncId(o,t,n):(o.actions.push(this),o._scheduled||(o._scheduled=W.setImmediate(o.flush.bind(o,void 0))))}recycleAsyncId(o,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(o,t,n);const{actions:a}=o;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(W.clearImmediate(t),o._scheduled=void 0)}});var ft=s(4707),vt=s(5191),ht=s(233),Eo=s(2843),No=s(7159),G=s(7579),ko=s(4986),Ro=s(5363),Vo=s(1365),Bo=s(5698),Go=s(4782);function Ct(){return i=>new So.y(o=>{let t,n;const r=new Do.w0;return r.add(i.subscribe({complete:()=>{t&&o.next(n),o.complete()},error:a=>{o.error(a)},next:a=>{n=a,t||(t=$o.schedule(()=>{o.next(n),t=void 0}),r.add(t))}})),r})}function ge(i){return"function"==typeof i.ngrxOnStoreInit}function _e(i){return"function"==typeof i.ngrxOnStateInit}const zo=new e.OlP("@ngrx/component-store Initial State");let Ho=(()=>{class i{constructor(t){this.destroySubject$=new ft.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new ft.t(1),this.isInitialized=!1,this.state$=this.select(n=>n),this.\u0275hasProvider=!1,t&&this.initState(t),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(t){return n=>{let a,r=!0;const _=((0,vt.b)(n)?n:(0,x.of)(n)).pipe((0,Ro.Q)(ht.N),(0,T.b)(()=>this.assertStateIsInitialized()),(0,Vo.M)(this.stateSubject$),(0,g.U)(([v,Hn])=>t(Hn,v)),(0,T.b)(v=>this.stateSubject$.next(v)),(0,F.K)(v=>r?(a=v,se.E):(0,Eo._)(()=>v)),(0,N.R)(this.destroy$)).subscribe();if(a)throw a;return r=!1,_}}initState(t){(0,No.x)([t],ht.N).subscribe(n=>{this.isInitialized=!0,this.stateSubject$.next(n)})}setState(t){"function"!=typeof t?this.initState(t):this.updater(t)()}patchState(t){const n="function"==typeof t?t(this.get()):t;this.updater((r,a)=>({...r,...a}))(n)}get(t){let n;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,Bo.q)(1)).subscribe(r=>{n=t?t(r):r}),n}select(...t){const{observables:n,projector:r,config:a}=function Zo(i){const o=Array.from(i);let n,t={debounce:!1};const r=o.pop();return"function"!=typeof r?(t={...t,...r},n=o.pop()):n=r,{observables:o,projector:n,config:t}}(t);let c;return c=0===n.length?this.stateSubject$.pipe(a.debounce?Ct():_=>_,(0,g.U)(_=>r(_))):(0,He.a)(n).pipe(a.debounce?Ct():_=>_,(0,g.U)(_=>r(..._))),c.pipe((0,B.x)(),(0,Go.d)({refCount:!0,bufferSize:1}),(0,N.R)(this.destroy$))}effect(t){const n=new G.x;return t(n).pipe((0,N.R)(this.destroy$)).subscribe(),r=>((0,vt.b)(r)?r:(0,x.of)(r)).pipe((0,N.R)(this.destroy$)).subscribe(c=>{n.next(c)})}checkProviderForHooks(){ko.z.schedule(()=>{if((0,e.X6Q)()&&(ge(this)||_e(this))&&!this.\u0275hasProvider){const t=[ge(this)?"OnStoreInit":"",_e(this)?"OnStateInit":""].filter(n=>n);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${t.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(zo,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Tt=(()=>{class i extends Ho{constructor(t){super(),this.coursesService=t,this.course$=this.select(n=>n.course),this.loadingState$=this.select(n=>n.loadingState),this.getCourse=this.effect(n=>n.pipe((0,O.w)(r=>this.coursesService.fetchCourseById$(r).pipe((0,g.U)(a=>U(a)),(0,T.b)(a=>{this.setState({loadingState:m.G.SUCCESS,course:a})}),(0,F.K)(()=>(0,x.of)(null))))))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ue))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var fe=s(8746);function jo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tui-input-files",14),e.NdJ("reject",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onRejectVideoFile(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formControl",t.videoFile)("multiple",!1)}}function Qo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tui-file",15),e.NdJ("removed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.removeVideoFile())}),e.qZA()}2&i&&e.Q6J("file",o.ngIf)}function Jo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tui-file",16),e.NdJ("removed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearRejectedVideoFile())}),e.qZA()}2&i&&e.Q6J("file",o.ngIf)}function Uo(i,o){1&i&&e._UZ(0,"tui-file",17),2&i&&e.Q6J("file",o.ngIf)}function Yo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tui-input-files",14),e.NdJ("reject",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onRejectCoverFile(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formControl",t.coverFile)("multiple",!1)}}function Wo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tui-file",18),e.NdJ("removed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.removeCoverFile())}),e.qZA()}2&i&&e.Q6J("file",o.ngIf)}function Ko(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tui-file",16),e.NdJ("removed",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearRejectedCoverFile())}),e.qZA()}2&i&&e.Q6J("file",o.ngIf)}function Xo(i,o){1&i&&e._UZ(0,"tui-file",17),2&i&&e.Q6J("file",o.ngIf)}let qo=(()=>{class i{constructor(t,n){this.context=t,this.route=n,this.videoName=new h.NI,this.videoFile=new h.NI,this.coverFile=new h.NI,this.courseName=new h.NI,this.rejectedVideoFile$=new G.x,this.loadingVideoFile$=new G.x,this.loadedVideoFile$=this.videoFile.valueChanges.pipe((0,O.w)(r=>r?this.makeRequestVideo(r):(0,x.of)(null))),this.rejectedCoverFile$=new G.x,this.loadingCoverFile$=new G.x,this.loadedCoverFile$=this.coverFile.valueChanges.pipe((0,O.w)(r=>r?this.makeRequestCover(r):(0,x.of)(null))),this.courseId=this.route.snapshot.paramMap.get("id")??""}ngOnInit(){}onSubmit(){const t=this.videoName.value,n=this.videoFile.value,r=this.coverFile.value,a=this.courseId;if(n&&r&&t&&a){const c=new FormData;c.append("title",t),c.append("video",n),c.append("cover",r),c.append("courseId",a),this.context.completeWith(c)}}onRejectVideoFile(t){this.rejectedVideoFile$.next(t)}removeVideoFile(){this.videoFile.setValue(null)}clearRejectedVideoFile(){this.removeVideoFile(),this.rejectedVideoFile$.next(null)}makeRequestVideo(t){return this.loadingVideoFile$.next(t),(0,ae.H)(1e3).pipe((0,g.U)(()=>Math.random()>.5?t:(this.rejectedVideoFile$.next(t),null)),(0,fe.x)(()=>this.loadingVideoFile$.next(null)))}onRejectCoverFile(t){this.rejectedCoverFile$.next(t)}removeCoverFile(){this.coverFile.setValue(null)}clearRejectedCoverFile(){this.removeCoverFile(),this.rejectedCoverFile$.next(null)}makeRequestCover(t){return this.loadingCoverFile$.next(t),(0,ae.H)(1e3).pipe((0,g.U)(()=>Math.random()>.5?t:(this.rejectedCoverFile$.next(t),null)),(0,fe.x)(()=>this.loadingCoverFile$.next(null)))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.yf),e.Y36(D.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-dialog"]],decls:25,vars:21,consts:[[1,"create-form",3,"ngSubmit"],[1,"video"],["tuiLabel","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"],["tuiTextfieldSize","s","tuiAutoFocus","",1,"tui-space_bottom-5",3,"formControl"],["tuiLabel","\u0412\u0438\u0434\u0435\u043e"],[3,"formControl","multiple","reject",4,"ngIf"],[1,"tui-space_top-1"],[3,"file","removed",4,"ngIf"],["state","error",3,"file","removed",4,"ngIf"],["state","loading",3,"file",4,"ngIf"],[1,"cover"],["tuiLabel","\u041e\u0431\u043b\u043e\u0436\u043a\u0430 \u0434\u043b\u044f \u0432\u0438\u0434\u0435\u043e"],["size","m",3,"file","removed",4,"ngIf"],["tuiButton","","type","submit","size","m"],[3,"formControl","multiple","reject"],[3,"file","removed"],["state","error",3,"file","removed"],["state","loading",3,"file"],["size","m",3,"file","removed"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"div",1)(2,"label",2),e._UZ(3,"tui-input",3),e.qZA(),e.TgZ(4,"label",4),e.YNc(5,jo,1,2,"tui-input-files",5),e.TgZ(6,"tui-files",6),e.YNc(7,Qo,1,1,"tui-file",7),e.ALo(8,"async"),e.YNc(9,Jo,1,1,"tui-file",8),e.ALo(10,"async"),e.YNc(11,Uo,1,1,"tui-file",9),e.ALo(12,"async"),e.qZA()()(),e.TgZ(13,"div",10)(14,"label",11),e.YNc(15,Yo,1,2,"tui-input-files",5),e.TgZ(16,"tui-files",6),e.YNc(17,Wo,1,1,"tui-file",12),e.ALo(18,"async"),e.YNc(19,Ko,1,1,"tui-file",8),e.ALo(20,"async"),e.YNc(21,Xo,1,1,"tui-file",9),e.ALo(22,"async"),e.qZA()()(),e.TgZ(23,"button",13),e._uU(24,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("formControl",n.videoName),e.xp6(2),e.Q6J("ngIf",!n.videoFile.value),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,9,n.loadedVideoFile$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,11,n.rejectedVideoFile$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(12,13,n.loadingVideoFile$)),e.xp6(4),e.Q6J("ngIf",!n.coverFile.value),e.xp6(2),e.Q6J("ngIf",e.lcZ(18,15,n.loadedCoverFile$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(20,17,n.rejectedCoverFile$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(22,19,n.loadingCoverFile$)))},dependencies:[l.O5,y.v0,M.K3,M.wU,E.sz,z.k,h._Y,h.JJ,h.JL,h.oH,Ke,fi,_i,H.A,h.F,l.Ov],styles:[".video[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;flex-direction:column}.cover[_ngcontent-%COMP%]{margin-bottom:15px}"]}),i})(),en=(()=>{class i{constructor(t){this.context=t}submit(t){this.context.completeWith(!!t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.yf))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-remove-dialog"]],decls:5,vars:0,consts:[[1,"control"],["tuiButton","","type","button","size","m","appearance","primary",3,"click"],["tuiButton","","type","button","size","m","appearance","accent",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.submit(!1)}),e._uU(2," \u041d\u0435\u0442 "),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.submit(!0)}),e._uU(4," \u0414\u0430 "),e.qZA()())},dependencies:[y.v0],styles:[".control[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:flex-end}.control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}"]}),i})(),tn=(()=>{class i{constructor(){this.removeVideo=new e.vpe}ngOnInit(){this.setVideoUrl()}setVideoUrl(){this.coverUrl=`${b.J}/video/${this.video.id}/cover`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-video"]],inputs:{video:"video"},outputs:{removeVideo:"removeVideo"},decls:9,vars:2,consts:[[1,"video"],[1,"cover"],["width","350px","height","200px",3,"src"],[1,"info"],[1,"text"],[1,"edit","tui-space_bottom-6"],["tuiButton","","size","s","shape","rounded","appearance","flat","icon","tuiIconCloseLarge","type","button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"span",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(a){return n.removeVideo.emit(n.video.id),a.stopImmediatePropagation()}),e._uU(8," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("src",n.coverUrl,e.LSH),e.xp6(3),e.Oqu(n.video.title))},dependencies:[y.v0],styles:[".video[_ngcontent-%COMP%]{margin:15px 0;display:flex;flex-direction:column;justify-content:space-between;border:1px solid var(--tui-base-04);border-radius:5px;transition:box-shadow .3s,border-color .3s}.video[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{margin:auto}.video[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:16px;display:flex;justify-content:center;align-items:center}.video[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font:var(--tui-font-text-l)}.video[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{margin:5px auto}.video[_ngcontent-%COMP%]:hover{box-shadow:0 0 11px #21212133;cursor:pointer}"]}),i})();function on(i,o){1&i&&e.GkF(0)}function nn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,on,1,0,"ng-container",8),e.BQk()),2&i){e.oxw();const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function rn(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"app-video",12),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.openVideo(a.id))})("removeVideo",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onDeleteVideo(r))}),e.qZA()(),e.BQk()}if(2&i){const t=o.$implicit;e.xp6(2),e.Q6J("video",t)}}function an(i,o){if(1&i&&(e.ynx(0),e.YNc(1,rn,3,1,"ng-container",10),e.BQk()),2&i){const t=o.tuiLet;e.xp6(1),e.Q6J("ngForOf",t)}}function sn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,an,2,1,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("tuiLet",e.lcZ(2,1,t.videos$))}}function un(i,o){1&i&&e.GkF(0)}function cn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,un,1,0,"ng-container",8),e.BQk()),2&i){e.oxw();const t=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ln(i,o){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Loading"),e.qZA())}function dn(i,o){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Error"),e.qZA())}let pn=(()=>{class i{constructor(t,n,r,a,c){this.dialogService=t,this.injector=n,this.router=r,this.route=a,this.videosDataSerivce=c,this.loadingState=m.G,this.createDialog=this.dialogService.open(new f.Al(qo,this.injector),{dismissible:!0,label:"\u041d\u043e\u0432\u043e\u0435 \u0432\u0438\u0434\u0435\u043e"}),this.removeDialog=this.dialogService.open(new f.Al(en,this.injector),{dismissible:!0,label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e?"}),this.videos$=this.videosDataSerivce.videos$,this.loadingState$=this.videosDataSerivce.loadingState$}ngOnInit(){this.videosDataSerivce.loadVideosByCourseId(this.courseId)}openVideo(t){this.router.navigate(["./video",t],{relativeTo:this.route,replaceUrl:!0})}onDeleteVideo(t){this.videosDataSerivce.removeVideoById(t)}showCreateVideoDialog(){this.createDialog.subscribe({next:t=>{this.handleCreateVideo(t),console.info(`Dialog emitted data = ${t}`)},complete:()=>{console.info("Dialog closed")}})}showRemoveVideosDialog(){this.removeDialog.subscribe({next:t=>{this.handleRemoveVideos(t),console.info(`Dialog emitted data = ${t}`)},complete:()=>{console.info("Dialog closed")}})}handleCreateVideo(t){this.videosDataSerivce.createVideo(t)}handleRemoveVideos(t){t&&this.videosDataSerivce.removeVideosFromCourseByCourseId(this.courseId)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(pe.RO),e.Y36(e.zs3),e.Y36(D.F0),e.Y36(D.gz),e.Y36(Pe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-videos-list"]],inputs:{courseId:"courseId"},decls:15,vars:6,consts:[[1,"header"],[1,"edit"],["tuiButton","","type","button","icon","tuiIconPlusLarge","appearance","secondary","shape","rounded","size","s",3,"click"],["tuiButton","","type","button","icon","tuiIconRemoveLarge","appearance","accent","shape","rounded","size","s",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["loading",""],["error",""],[4,"ngTemplateOutlet"],[4,"tuiLet"],[4,"ngFor","ngForOf"],[1,"videos-list"],[3,"video","click","removeVideo"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"span",1)(2,"button",2),e.NdJ("click",function(){return n.showCreateVideoDialog()}),e._uU(3," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e "),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.showRemoveVideosDialog()}),e._uU(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e \u043a\u0443\u0440\u0441\u0430 "),e.qZA()()(),e.ynx(6,4),e.ALo(7,"async"),e.YNc(8,nn,2,1,"ng-container",5),e.YNc(9,sn,3,3,"ng-container",5),e.YNc(10,cn,2,1,"ng-container",5),e.BQk(),e.YNc(11,ln,2,0,"ng-template",null,6,e.W1O),e.YNc(13,dn,2,0,"ng-template",null,7,e.W1O)),2&t&&(e.xp6(6),e.Q6J("ngSwitch",e.lcZ(7,4,n.loadingState$)),e.xp6(2),e.Q6J("ngSwitchCase",n.loadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",n.loadingState.SUCCESS),e.xp6(1),e.Q6J("ngSwitchCase",n.loadingState.LOADING_ERROR))},dependencies:[l.sg,l.tP,l.RF,l.n9,y.v0,P.Ls,tn,l.Ov],styles:[".header[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;align-items:center;justify-content:flex-end;font:var(--tui-font-text-l)}.edit-block[_ngcontent-%COMP%]{margin-bottom:15px}.edit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.videos-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}"]}),i})();function mn(i,o){1&i&&e.GkF(0)}function gn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,mn,1,0,"ng-container",13),e.BQk()),2&i){e.oxw(2);const t=e.MAs(15);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function _n(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"p",14),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().tuiLet;e.xp6(2),e.hij(" ",t.name," ")}}function fn(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",9),e.YNc(2,gn,2,1,"ng-container",10),e.YNc(3,_n,3,1,"ng-container",10),e.TgZ(4,"span",11)(5,"button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.showRemoveCourseDialog())}),e._uU(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0443\u0440\u0441 "),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitchCase",t.loadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",t.loadingState.SUCCESS)}}function vn(i,o){if(1&i&&(e.TgZ(0,"div",15,16),e._UZ(2,"app-videos-list",17),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("courseId",t.courseId)}}function hn(i,o){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Loading"),e.qZA())}let Cn=(()=>{class i{constructor(t,n,r,a,c,_){this.courseStore=t,this.route=n,this.courseDataService=r,this.router=a,this.dialogService=c,this.injector=_,this.loadingState=m.G,this.removeDialog=this.dialogService.open(new f.Al(bo,this.injector),{dismissible:!0,label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0443\u0440\u0441?"}),this.courseId=this.route.snapshot.paramMap.get("id")??"",this.course$=this.courseStore.course$,this.loadingState$=this.courseStore.loadingState$}ngOnInit(){this.initCourseState(),this.initCourseObservable()}showRemoveCourseDialog(){this.removeDialog.subscribe({next:t=>{this.handleRemoveCourse(t),console.info(`Dialog emitted data = ${t}`)},complete:()=>{console.info("Dialog closed")}})}handleRemoveCourse(t){t&&(this.courseDataService.removeCourseById(this.courseId),this.router.navigate(["../"],{relativeTo:this.route}))}initCourseState(){this.courseStore.setState({loadingState:m.G.LOADING,course:{id:this.courseId,name:null}})}initCourseObservable(){this.courseStore.getCourse(this.courseId)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Tt),e.Y36(D.gz),e.Y36(de),e.Y36(D.F0),e.Y36(pe.RO),e.Y36(e.zs3))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-course-detail"]],features:[e._Bn([Tt])],decls:16,vars:6,consts:[["tuiLink","","icon","tuiIconArrowLeft","iconAlign","left","routerLink","../"],[1,"course"],[3,"ngSwitch"],[4,"tuiLet"],[1,"course-content"],[1,"header"],[1,"container"],["tuiAccordionItemContent",""],["loading",""],[1,"course-info"],[4,"ngSwitchCase"],[1,"course-edit"],["tuiButton","","type","button","icon","tuiIconRemoveLarge","appearance","accent","shape","rounded","size","s",3,"click"],[4,"ngTemplateOutlet"],[1,"course-name"],[1,"course-videos"],["content",""],[3,"courseId"]],template:function(t,n){1&t&&(e.TgZ(0,"a",0),e._uU(1," \u041a\u043e \u0432\u0441\u0435\u043c \u043a\u0443\u0440\u0441\u0430\u043c\n"),e.qZA(),e.TgZ(2,"div",1),e.ynx(3,2),e.ALo(4,"async"),e.YNc(5,fn,7,2,"ng-container",3),e.ALo(6,"async"),e.BQk(),e.TgZ(7,"div",4)(8,"p",5),e._uU(9,"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"),e.qZA(),e.TgZ(10,"tui-accordion-item",6),e._uU(11," \u0412\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 "),e.YNc(12,vn,3,1,"ng-template",7),e.qZA()()(),e._UZ(13,"router-outlet"),e.YNc(14,hn,2,0,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(3),e.Q6J("ngSwitch",e.lcZ(4,2,n.loadingState$)),e.xp6(2),e.Q6J("tuiLet",e.lcZ(6,4,n.course$)))},dependencies:[l.tP,l.RF,l.n9,D.lC,D.yS,P.Ls,y.v0,R.V,pn,go,rt,l.Ov],styles:[".course-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.course-info[_ngcontent-%COMP%]   .course-name[_ngcontent-%COMP%]{margin:1rem 0;font:var(--tui-font-heading-3)}.course-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:3rem 0 1rem;font:var(--tui-font-text-xl)}"]}),i})();var Tn=s(8372);let yn=(()=>{class i{constructor(t){this.context=t,this.name=""}get hasValue(){return""!==this.name}submit(){""!==this.name&&this.context.completeWith(this.name)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.yf))},i.\u0275cmp=e.Xpm({type:i,selectors:[["create-dialog"]],decls:4,vars:2,consts:[["tuiLabel","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"],["tuiTextfieldSize","s","tuiAutoFocus","",1,"tui-space_bottom-5",3,"ngModel","ngModelChange"],["tuiButton","","type","button","size","m",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"label",0)(1,"tui-input",1),e.NdJ("ngModelChange",function(a){return n.name=a}),e.qZA()(),e.TgZ(2,"button",2),e.NdJ("click",function(){return n.submit()}),e._uU(3," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\n"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngModel",n.name),e.xp6(1),e.Q6J("disabled",!n.hasValue))},dependencies:[h.JJ,h.On,y.v0,M.K3,M.wU,E.sz,z.k,H.A],styles:["[_nghost-%COMP%]{display:block}.heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-3);margin:0 0 1.5rem}.text[_ngcontent-%COMP%]{margin:0 0 .75rem}"],changeDetection:0}),i})(),xn=(()=>{class i{constructor(t){this.context=t}submit(t){this.context.completeWith(!!t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.yf))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-remove-dialog"]],decls:5,vars:0,consts:[[1,"control"],["tuiButton","","type","button","size","m","appearance","primary",3,"click"],["tuiButton","","type","button","size","m","appearance","accent",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.submit(!1)}),e._uU(2," \u041d\u0435\u0442 "),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.submit(!0)}),e._uU(4," \u0414\u0430 "),e.qZA()())},dependencies:[y.v0],styles:[".control[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:flex-end}.control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}"]}),i})(),bn=(()=>{class i{constructor(){this.openCourse=new e.vpe,this.removeCourse=new e.vpe}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-course"]],inputs:{course:"course"},outputs:{openCourse:"openCourse",removeCourse:"removeCourse"},decls:3,vars:1,consts:[[1,"course"],[1,"course-name"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",n.course.name," "))},styles:[".course[_ngcontent-%COMP%]{padding:20px 16px;margin:20px 0;display:flex;justify-content:space-between;align-items:flex-start;border:1px solid var(--tui-base-03);border-radius:5px;transition:box-shadow .4s,border-color .4s}.course-name[_ngcontent-%COMP%]{font:var(--tui-font-text-xl);color:var(--tui-text-01)}.course[_ngcontent-%COMP%]:hover{box-shadow:0 0 11px #21212133;cursor:pointer}"]}),i})();function Sn(i,o){if(1&i&&(e.TgZ(0,"a",15),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("routerLink",t.routerLink),e.xp6(1),e.hij(" ",t.caption," ")}}function Dn(i,o){1&i&&(e.ynx(0),e.YNc(1,Sn,2,2,"a",14),e.BQk())}function On(i,o){1&i&&e.GkF(0)}function In(i,o){if(1&i&&(e.ynx(0),e.YNc(1,On,1,0,"ng-container",16),e.BQk()),2&i){e.oxw(2);const t=e.MAs(21);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function wn(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-course",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.openCourse(a.id))})("removeCourse",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onRemoveCourse(r))}),e.qZA(),e.BQk()}if(2&i){const t=o.$implicit;e.xp6(1),e.Q6J("course",t)}}function Fn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,wn,2,1,"ng-container",1),e.BQk()),2&i){const t=e.oxw().tuiLet;e.xp6(1),e.Q6J("ngForOf",t)}}function Mn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,In,2,1,"ng-container",11),e.YNc(2,Fn,2,1,"ng-container",11),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitchCase",t.loadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",t.loadingState.SUCCESS)}}function Ln(i,o){1&i&&e.GkF(0)}function An(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Ln,1,0,"ng-container",16),e.BQk()),2&i){e.oxw();const t=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Pn(i,o){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Loading"),e.qZA())}function $n(i,o){1&i&&(e.TgZ(0,"h1"),e._uU(1,"Error"),e.qZA())}let En=(()=>{class i{constructor(t,n,r,a,c){this.dialogService=t,this.injector=n,this.router=r,this.route=a,this.coursesDataService=c,this.loadingState=m.G,this.searchForm=new h.NI,this.breadcrumbItems=[{caption:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",routerLink:"../"},{caption:"\u041a\u0443\u0440\u0441\u044b",routerLink:"./"}],this.createDialog=this.dialogService.open(new f.Al(yn,this.injector),{dismissible:!0,label:"\u041d\u043e\u0432\u044b\u0439 \u043a\u0443\u0440\u0441"}),this.removeDialog=this.dialogService.open(new f.Al(xn,this.injector),{dismissible:!0,label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0443\u0440\u0441\u044b?"}),this.courses$=this.coursesDataService.courses$,this.loadingState$=this.coursesDataService.loadingState$}ngOnInit(){this.initObservables(),this.subscribeOnSearchForm()}openCourse(t){this.router.navigate(["./",t],{relativeTo:this.route})}onRemoveCourse(t){this.coursesDataService.removeCourseById(t)}handleSearchForm(t){const n=t&&t.trim();n?.length?this.coursesDataService.loadCoursesByName(n):this.coursesDataService.loadCourses()}showCreateDialog(){this.createDialog.subscribe({next:t=>{this.handleCreateCourse(t),console.info(`Dialog emitted data = ${t}`)},complete:()=>{console.info("Dialog closed")}})}showRemoveDialog(){this.removeDialog.subscribe({next:t=>{this.handleRemoveCourses(t),console.info(`Dialog emitted data = ${t}`)},complete:()=>{console.info("Dialog closed")}})}handleCreateCourse(t){this.coursesDataService.createCourse({name:t})}handleRemoveCourses(t){t&&this.coursesDataService.removeCourses()}subscribeOnSearchForm(){this.searchForm.valueChanges.pipe((0,Tn.b)(2e3),(0,B.x)(),(0,T.b)(t=>console.log(t))).subscribe(t=>this.handleSearchForm(t))}initObservables(){this.coursesDataService.loadCourses()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(pe.RO),e.Y36(e.zs3),e.Y36(D.F0),e.Y36(D.gz),e.Y36(de))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-courses-list"]],decls:24,vars:9,consts:[["size","l"],[4,"ngFor","ngForOf"],[1,"courses-list"],[1,"header"],[1,"edit"],["tuiButton","","type","button","icon","tuiIconPlusLarge","appearance","secondary","shape","rounded","size","s",3,"click"],["tuiButton","","type","button","icon","tuiIconRemoveLarge","appearance","accent","shape","rounded","size","s",3,"click"],[1,"search-form"],["tuiTextfieldSize","s",3,"formControl"],[3,"ngSwitch"],[4,"tuiLet"],[4,"ngSwitchCase"],["loading",""],["error",""],["tuiLink","",3,"routerLink",4,"tuiItem"],["tuiLink","",3,"routerLink"],[4,"ngTemplateOutlet"],[3,"course","click","removeCourse"]],template:function(t,n){1&t&&(e.TgZ(0,"tui-breadcrumbs",0),e.YNc(1,Dn,2,0,"ng-container",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"span"),e._uU(5,"\u041a\u0443\u0440\u0441\u044b"),e.qZA(),e.TgZ(6,"span",4)(7,"button",5),e.NdJ("click",function(){return n.showCreateDialog()}),e._uU(8," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0443\u0440\u0441 "),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return n.showRemoveDialog()}),e._uU(10," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0443\u0440\u0441\u044b "),e.qZA()()(),e.TgZ(11,"form",7)(12,"div")(13,"tui-input",8),e._uU(14," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 "),e.qZA()()(),e.ynx(15,9),e.ALo(16,"async"),e.YNc(17,Mn,3,2,"ng-container",10),e.ALo(18,"async"),e.YNc(19,An,2,1,"ng-container",11),e.BQk(),e.qZA(),e.YNc(20,Pn,2,0,"ng-template",null,12,e.W1O),e.YNc(22,$n,2,0,"ng-template",null,13,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.breadcrumbItems),e.xp6(12),e.Q6J("formControl",n.searchForm),e.xp6(2),e.Q6J("ngSwitch",e.lcZ(16,5,n.loadingState$)),e.xp6(2),e.Q6J("tuiLet",e.lcZ(18,7,n.courses$)),e.xp6(2),e.Q6J("ngSwitchCase",n.loadingState.LOADING_ERROR))},dependencies:[l.sg,l.tP,l.RF,l.n9,D.yS,M.K3,M.wU,h._Y,h.JJ,h.JL,h.oH,P.Ls,y.v0,nt.l,ne.w,R.V,bn,l.Ov],styles:[".courses-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:1rem 0;display:flex;align-items:center;justify-content:space-between;font:var(--tui-font-heading-5)}.courses-list[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{margin:0 0 2.5rem}.edit-block[_ngcontent-%COMP%]{margin-bottom:15px}.edit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}"]}),i})();var Nn=s(9835);const kn=["preview"];function Rn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tui-preview",1)(1,"div",2)(2,"video",3),e._UZ(3,"source",4),e.qZA()(),e.TgZ(4,"button",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.complete())}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("rotatable",!1)("zoomable",!1),e.xp6(3),e.Q6J("src",t.videoUrl,e.LSH)}}const Vn=[{path:"",component:En},{path:":id",component:Cn,children:[{path:"video/:id",component:(()=>{class i{constructor(t,n,r){this.previewDialogService=t,this.router=n,this.route=r,this.videoUrl="",this.videoId="",this.videoId=this.route.snapshot.paramMap.get("id")??""}ngOnInit(){this.setVideoUrl()}ngAfterViewInit(){this.showStream()}setVideoUrl(){this.videoUrl=`${b.J}/video/${this.videoId}`}showStream(){this.previewDialogService.open(this.preview).pipe((0,fe.x)(()=>this.onCloseVideo())).subscribe()}onCloseVideo(){this.router.navigate(["."],{relativeTo:this.route.parent,replaceUrl:!0})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Nn.iK),e.Y36(D.F0),e.Y36(D.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-video-player"]],viewQuery:function(t,n){if(1&t&&e.Gf(kn,5),2&t){let r;e.iGM(r=e.CRH())&&(n.preview=r.first)}},decls:2,vars:0,consts:[["preview",""],[3,"rotatable","zoomable"],[1,"content"],["tuiMedia","","controls","","autoplay","",1,"video"],["type","video/mp4",3,"src"],["tuiIconButton","","tuiPreviewAction","","icon","tuiIconCloseLarge","title","Close",3,"click"]],template:function(t,n){1&t&&e.YNc(0,Rn,5,3,"ng-template",null,0,e.W1O)},dependencies:[y.v0,bt,K.mE,K.vy],styles:[".video[_ngcontent-%COMP%]{width:800px;height:500px}"],changeDetection:0}),i})()}]}];let Bn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[D.Bz.forChild(Vn),D.Bz]}),i})();const Gn=[ho];let zn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[at,de],imports:[l.ez,Bn,M.Qf,h.UX,P.WD,y.fN,xt,nt.T,R.j,yt.z,oo,_o,P.WD,u.Aw.forFeature(mt,To),C.sQ.forFeature(Gn)]}),i})()}}]);