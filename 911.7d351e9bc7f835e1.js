"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[911],{1911:(y,g,a)=>{a.r(g),a.d(g,{AuthModule:()=>Z});var f=a(6895),r=a(433),c=a(8468),e=a(1571),p=a(9698),d=a(529);let m=(()=>{class t{constructor(n){this.http=n}signup$(n){return this.http.post(`${p.J}/user/signup`,n)}signin$(n){return this.http.post(`${p.J}/user/signin`,n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(d.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=a(7199);let C=(()=>{class t{constructor(n){this.http=n}fecthUser$(){return this.http.get(`${p.J}/user`)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(d.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const M={fullname:"",email:""};let _=(()=>{class t{constructor(n){this.userService=n,this.profileData=new h.y(M)}fetchUser(){this.userService.fecthUser$()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(C))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const b=[{path:"",component:(()=>{class t{constructor(n,o,l){this.authService=n,this.profileStore=o,this.router=l,this.email="",this.password="",this.submitted=!1}login(){const n={email:this.email,password:this.password};this.authService.signin$(n).subscribe(o=>{console.log(o),o.token&&(localStorage.setItem("token",o.token),this.profileStore.profileData.setState({fullname:"",email:n.email}),this.router.navigate(["pages"]))})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m),e.Y36(_),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:19,vars:3,consts:[[1,"auth"],["action","#",3,"ngSubmit"],["loginForm","ngForm"],["for","email"],["type","text","id","email","name","email","placeholder","Email..","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","placeholder","Password..","required","",3,"ngModel","ngModelChange"],[1,"buttons"],["type","submit",3,"disabled"],["type","button",3,"click"],["type","button","routerLink","./registration"]],template:function(n,o){if(1&n){const l=e.EpF();e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"form",1,2),e.NdJ("ngSubmit",function(){return o.login()}),e.TgZ(5,"label",3),e._uU(6,"Email"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(s){return o.email=s}),e.qZA(),e.TgZ(8,"label",5),e._uU(9,"Password"),e.qZA(),e.TgZ(10,"input",6),e.NdJ("ngModelChange",function(s){return o.password=s}),e.qZA(),e.TgZ(11,"span",7)(12,"button",8),e._uU(13," Login "),e.qZA(),e.TgZ(14,"button",9),e.NdJ("click",function(){e.CHM(l);const s=e.MAs(4);return e.KtG(s.reset())}),e._uU(15,"Clear"),e.qZA()()(),e.TgZ(16,"div")(17,"button",10),e._uU(18,"Registration"),e.qZA()()()}if(2&n){const l=e.MAs(4);e.xp6(7),e.Q6J("ngModel",o.email),e.xp6(3),e.Q6J("ngModel",o.password),e.xp6(2),e.Q6J("disabled",!l.form.valid)}},dependencies:[c.rH,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px;margin-bottom:15px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:last-child){border-radius:4px;margin-bottom:10px}form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{border-left:5px solid #a94442}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{cursor:pointer}.auth[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}"]}),t})()},{path:"registration",component:(()=>{class t{constructor(n,o){this.authService=n,this.router=o,this.user={fullname:"",email:"",password:""},this.submitted=!1}onSubmit(){this.submitted=!0,this.authService.signup$({fullname:this.user.fullname,email:this.user.email,password:this.user.password}).subscribe(o=>{console.log(o),this.router.navigate(["auth"])})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registration"]],decls:18,vars:4,consts:[["action","#",3,"ngSubmit"],["registrationForm","ngForm"],["for","username"],["type","text","id","username","name","username","placeholder","Login..","required","",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","email","name","email","placeholder","Email..","required","",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","placeholder","Password..","required","",3,"ngModel","ngModelChange"],[1,"buttons"],["type","submit",3,"disabled"],["type","button",3,"click"]],template:function(n,o){if(1&n){const l=e.EpF();e.TgZ(0,"h2"),e._uU(1,"Registration"),e.qZA(),e.TgZ(2,"form",0,1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(4,"label",2),e._uU(5,"Username"),e.qZA(),e.TgZ(6,"input",3),e.NdJ("ngModelChange",function(s){return o.user.fullname=s}),e.qZA(),e.TgZ(7,"label",4),e._uU(8,"Email"),e.qZA(),e.TgZ(9,"input",5),e.NdJ("ngModelChange",function(s){return o.user.email=s}),e.qZA(),e.TgZ(10,"label",6),e._uU(11,"Password"),e.qZA(),e.TgZ(12,"input",7),e.NdJ("ngModelChange",function(s){return o.user.password=s}),e.qZA(),e.TgZ(13,"span",8)(14,"button",9),e._uU(15," Registration "),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){e.CHM(l);const s=e.MAs(3);return e.KtG(s.reset())}),e._uU(17,"Clear"),e.qZA()()()}if(2&n){const l=e.MAs(3);e.xp6(6),e.Q6J("ngModel",o.user.fullname),e.xp6(3),e.Q6J("ngModel",o.user.email),e.xp6(3),e.Q6J("ngModel",o.user.password),e.xp6(2),e.Q6J("disabled",!l.form.valid)}},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:last-child){border-radius:4px;margin-bottom:10px}form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{border-left:5px solid #a94442}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(b),c.Bz]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,v,r.u5]}),t})()}}]);